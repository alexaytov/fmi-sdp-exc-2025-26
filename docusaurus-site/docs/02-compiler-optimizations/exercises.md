---
sidebar_position: 2
title: "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è"
---

import InfoBox from '@site/src/components/InfoBoxes/InfoBox';
import WarningBox from '@site/src/components/InfoBoxes/WarningBox';
import SuccessBox from '@site/src/components/InfoBoxes/SuccessBox';
import CollapsibleSection from '@site/src/components/CollapsibleSection';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ExerciseCard from '@site/src/components/Exercise/ExerciseCard';
import ProgressTracker from '@site/src/components/Exercise/ProgressTracker';

# –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –ª–æ–∫–∞–ª–Ω–æ—Å—Ç, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∏ –º–∞—Å–∏–≤–∏

<ProgressTracker />

---

<InfoBox title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ç–∞">

–¢–æ–∑–∏ –Ω–∞–±–æ—Ä –æ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–∫—Ä–∏–≤–∞:
- –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ—Ö–Ω–∏—Ç–µ –µ—Ñ–µ–∫—Ç–∏
- –õ–æ–∫–∞–ª–Ω–æ—Å—Ç –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –∏ –≤—Ä–µ–º–µ–Ω–Ω–∞)
- C++ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∏ —Ç–µ—Ö–Ω–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ê–Ω–∞–ª–∏–∑ —Å Compiler Explorer
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏—Ç–µ

**–û–±—â–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:** 30 –∑–∞–¥–∞—á–∏ –≤ 5 –Ω–∏–≤–∞ –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç

</InfoBox>

---

## –õ–µ—Å–Ω–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (EASY)

–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –±–∞–∑–æ–≤–∏ —Ä–∞–∑–±–∏—Ä–∞–Ω–∏—è

<ExerciseCard difficulty="easy">

### –ö–∞–∫–≤–æ –µ –ø–æ–∫–∞–∑–∞–ª–µ—Ü –≤ C++?

–ù–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞ integer –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ `x` —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç 42, —Å—ä–∑–¥–∞–≤–∞ –ø–æ–∫–∞–∑–∞–ª–µ—Ü –∫—ä–º `x`, –∏ –∏–∑–ø–æ–ª–∑–≤–∞ –ø–æ–∫–∞–∑–∞–ª–µ—Ü–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ 100.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `&` –∑–∞ –≤–∑–µ–º–∞–Ω–µ –Ω–∞ –∞–¥—Ä–µ—Å–∞ –∏ `*` –∑–∞ dereference.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

```cpp
#include <iostream>

int main() {
    // –î–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ integer –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
    int x = 42;

    // –°—ä–∑–¥–∞–≤–∞–º–µ –ø–æ–∫–∞–∑–∞–ª–µ—Ü –∫—ä–º x
    int* ptr = &x;  // & –≤–∑–µ–º–∞ –∞–¥—Ä–µ—Å–∞ –Ω–∞ x

    // –ò–∑–ø–æ–ª–∑–≤–∞–º–µ –ø–æ–∫–∞–∑–∞–ª–µ—Ü–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏–º —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞
    *ptr = 100;     // * –¥–µ—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–∞ –ø–æ–∫–∞–∑–∞–ª–µ—Ü–∞

    std::cout << "x = " << x << std::endl;  // –û—Ç–ø–µ—á–∞—Ç–≤–∞: x = 100
    std::cout << "–ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ x: " << &x << std::endl;
    std::cout << "ptr —Å–æ—á–∏ –∫—ä–º: " << ptr << std::endl;

    return 0;
}
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- `int* ptr` - –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–∞ –ø–æ–∫–∞–∑–∞–ª–µ—Ü –∫—ä–º int
- `&x` - –≤–∑–∏–º–∞ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞ x
- `*ptr` - –¥–µ—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–∞ –ø–æ–∫–∞–∑–∞–ª–µ—Ü–∞ (–¥–æ—Å—Ç—ä–ø–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞, –∫–æ—è—Ç–æ —Å–æ—á–∏)
- –ü—Ä–æ–º–µ–Ω—è–π–∫–∏ `*ptr`, –ø—Ä–æ–º–µ–Ω—è–º–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ `x`

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### –¢–µ—Å—Ç —Å –º–Ω–æ–≥–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏

**–í—ä–ø—Ä–æ—Å:** –ö–æ—è –ø–∞–º–µ—Ç —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –ª–æ–∫–∞–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –≤—ä–≤ —Ñ—É–Ω–∫—Ü–∏—è?

- A) Heap
- B) Stack
- C) Data segment
- D) Code segment

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–õ–æ–∫–∞–ª–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ —Å–µ –∞–ª–æ–∫–∏—Ä–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏ —Å–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞—Ç –ø—Ä–∏ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ—Ç–æ —ù.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–û—Ç–≥–æ–≤–æ—Ä: B) Stack**

–õ–æ–∫–∞–ª–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ —Å–µ –∞–ª–æ–∫–∏—Ä–∞—Ç –Ω–∞ stack –ø–∞–º–µ—Ç—Ç–∞, –∫–æ—è—Ç–æ –µ –±—ä—Ä–∑–∞ –∏ —Å–µ —É–ø—Ä–∞–≤–ª—è–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### –î–µ—Ñ–∏–Ω–∏—Ü–∏—è –Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç

–î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç —Å –≤–∞—à–∏ –¥—É–º–∏ –∏ –¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç –ø—Ä–∏–º–µ—Ä –∑–∞ –∫–æ–¥, –∫–æ–π—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ –¥–æ–±—Ä–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –¥–∞–Ω–Ω–∏, –∫–æ–∏—Ç–æ —Å–∞ –±–ª–∏–∑–æ –µ–¥–Ω–∞ –¥–æ –¥—Ä—É–≥–∞ –≤ –ø–∞–º–µ—Ç—Ç–∞ –∏ –∫–∞–∫ —Ç–µ —Å–µ –¥–æ—Å—Ç—ä–ø–≤–∞—Ç.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç (Spatial Locality)** –µ –ø—Ä–∏–Ω—Ü–∏–ø—ä—Ç, —á–µ –∫–æ–≥–∞—Ç–æ –¥–æ—Å—Ç—ä–ø–∏–º –¥–∞–¥–µ–Ω–∞ –ø–∞–º–µ—Ç, –µ –≤–µ—Ä–æ—è—Ç–Ω–æ –¥–∞ –¥–æ—Å—Ç—ä–ø–∏–º –∏ —Å—ä—Å–µ–¥–Ω–∏ –ø–∞–º–µ—Ç–∏ –≤ –±–ª–∏–∑–∫–æ –±—ä–¥–µ—â–µ.

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- –î–∞–Ω–Ω–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–æ –≤ –ø–∞–º–µ—Ç—Ç–∞, –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–µ –¥–æ—Å—Ç—ä–ø–≤–∞—Ç –≤ –∫—Ä–∞—Ç—ä–∫ –ø–µ—Ä–∏–æ–¥ –æ—Ç –≤—Ä–µ–º–µ
- CPU cache-–æ–≤–µ—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Ç–æ–∑–∏ –ø—Ä–∏–Ω—Ü–∏–ø, –∑–∞—Ä–µ–∂–¥–∞–π–∫–∏ —Ü–µ–ª–∏ "cache lines" (–Ω–∞–ø—Ä. 64 bytes) –Ω–∞–≤–µ–¥–Ω—ä–∂

**–ü—Ä–∏–º–µ—Ä –∑–∞ –¥–æ–±—Ä–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç:**

```cpp
int arr[1000];

// –û—Ç–ª–∏—á–Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
for (int i = 0; i < 1000; i++) {
    arr[i] = i * 2;  // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ —Å—ä—Å–µ–¥–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
}
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞:**
- –ú–∞—Å–∏–≤—ä—Ç –µ —Å—ä—Ö—Ä–∞–Ω–µ–Ω –≤ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç
- –î–æ—Å—Ç—ä–ø–≤–∞–º–µ `arr[0]`, —Å–ª–µ–¥ —Ç–æ–≤–∞ `arr[1]`, `arr[2]`... (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ)
- –ö–æ–≥–∞—Ç–æ CPU-—Ç–æ –∑–∞—Ä–µ–¥–∏ `arr[0]`, cache line-—ä—Ç —â–µ —Å—ä–¥—ä—Ä–∂–∞ –∏ `arr[1]`, `arr[2]`, –∏ —Ç.–Ω.
- –°–ª–µ–¥–≤–∞—â–∏—Ç–µ –¥–æ—Å—Ç—ä–ø–∏ —Å–∞ –º–Ω–æ–≥–æ –±—ä—Ä–∑–∏ (cache hits)

**–ü—Ä–∏–º–µ—Ä –∑–∞ –ª–æ—à–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç:**

```cpp
// –õ–æ—à–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
for (int i = 0; i < 1000; i += 100) {
    arr[i] = i * 2;  // –°–∫–∞—á–∞–º–µ –Ω–∞ –≤—Å–µ–∫–∏ 100 –µ–ª–µ–º–µ–Ω—Ç–∞
}
```

–¢–æ–∑–∏ –∫–æ–¥ —Å–∫–∞—á–∞ –ø—Ä–µ–∑ –ø–∞–º–µ—Ç—Ç–∞, –∫–∞—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞ –º–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏, –∫–æ–µ—Ç–æ –≤–æ–¥–∏ –¥–æ –ø–æ-–º–∞–ª–∫–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ cache-–∞.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### Call-by-value vs Call-by-reference

–ö–∞–∫–≤–∞ –µ —Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –º–µ–∂–¥—É call-by-value –∏ call-by-reference –≤ C++? –ö–æ–≥–∞ –±–∏—Ö—Ç–µ –ø—Ä–µ–¥–ø–æ—á–µ–ª–∏ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ `const&` –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è?

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –ø—Ä–∏ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ –Ω–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–∫—Ç–∏.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**Call-by-value vs Call-by-reference:**

<Tabs>
<TabItem value="value" label="Call-by-value" default>

```cpp
void increment_value(int x) {
    x++;  // –ü—Ä–æ–º–µ–Ω—è —Å–∞–º–æ –ª–æ–∫–∞–ª–Ω–æ—Ç–æ –∫–æ–ø–∏–µ
}

int main() {
    int num = 10;
    increment_value(num);
    std::cout << num << std::endl;  // –û—Ç–ø–µ—á–∞—Ç–≤–∞: 10 (–Ω–µ–ø—Ä–æ–º–µ–Ω–µ–Ω–æ!)
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è—Ç–∞ –ø–æ–ª—É—á–∞–≤–∞ **–∫–æ–ø–∏–µ** –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞
- ‚úÖ –ü—Ä–æ–º–µ–Ω–∏—Ç–µ –Ω–µ –∞—Ñ–µ–∫—Ç–∏—Ä–∞—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞—Ç–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
- ‚ùå –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–∫—Ç–∏ (–∫–æ–ø–∏—Ä–∞–Ω–µ—Ç–æ –æ—Ç–Ω–µ–º–∞ –≤—Ä–µ–º–µ –∏ –ø–∞–º–µ—Ç)

</TabItem>
<TabItem value="reference" label="Call-by-reference">

```cpp
void increment_reference(int& x) {
    x++;  // –ü—Ä–æ–º–µ–Ω—è –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞—Ç–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
}

int main() {
    int num = 10;
    increment_reference(num);
    std::cout << num << std::endl;  // –û—Ç–ø–µ—á–∞—Ç–≤–∞: 11 (–ø—Ä–æ–º–µ–Ω–µ–Ω–æ!)
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è—Ç–∞ –ø–æ–ª—É—á–∞–≤–∞ **—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è** –∫—ä–º –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
- ‚úÖ –ü—Ä–æ–º–µ–Ω–∏—Ç–µ –∞—Ñ–µ–∫—Ç–∏—Ä–∞—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∞—Ç–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞
- ‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–±–µ–∑ –∫–æ–ø–∏—Ä–∞–Ω–µ)
- ‚ùå –ú–æ–∂–µ —Å–ª—É—á–∞–π–Ω–æ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ –¥–∞–Ω–Ω–∏—Ç–µ

</TabItem>
</Tabs>

**–ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ `const&`:**

```cpp
void process_large_vector(const std::vector<int>& vec) {
    // –§—É–Ω–∫—Ü–∏—è—Ç–∞ –º–æ–∂–µ –¥–∞ —á–µ—Ç–µ vec, –Ω–æ –ù–ï –º–æ–∂–µ –¥–∞ –≥–æ –ø—Ä–æ–º–µ–Ω—è
    for (int val : vec) {
        std::cout << val << " ";
    }
}
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –Ω–∞ `const&`:**
1. ‚úÖ **–ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç**: –ë–µ–∑ –∫–æ–ø–∏—Ä–∞–Ω–µ –Ω–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–∫—Ç–∏
2. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç**: `const` –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –Ω—è–º–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏ –¥–∞–Ω–Ω–∏—Ç–µ
3. ‚úÖ **–Ø—Å–Ω–∞ –∏–Ω—Ç–µ–Ω—Ü–∏—è**: –ü–æ–∫–∞–∑–≤–∞, —á–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ —Å–∞–º–æ —á–µ—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ
4. ‚úÖ **Best practice**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –ø–æ–¥—Ö–æ–¥ –∑–∞ readonly –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

**–ü—Ä–µ–ø–æ—Ä—ä–∫–∏:**
- –ò–∑–ø–æ–ª–∑–≤–∞–π **copy (value)** –∑–∞ –º–∞–ª–∫–∏ —Ç–∏–ø–æ–≤–µ (`int`, `char`, `double`)
- –ò–∑–ø–æ–ª–∑–≤–∞–π **`const&`** –∑–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–∫—Ç–∏ (`std::vector`, `std::string`, custom –∫–ª–∞—Å–æ–≤–µ) –∫–æ–≥–∞—Ç–æ —Å–∞–º–æ —á–µ—Ç–µ—à
- –ò–∑–ø–æ–ª–∑–≤–∞–π **`&`** (–±–µ–∑ const) –∫–æ–≥–∞—Ç–æ –∏—Å–∫–∞—à –¥–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞—à –ø–∞—Ä–∞–º–µ—Ç—ä—Ä–∞

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –º–∞—Å–∏–≤

–î–µ–∫–ª–∞—Ä–∏—Ä–∞–π—Ç–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ C++ –º–∞—Å–∏–≤ –æ—Ç 5 integers —Å—ä—Å —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ {10, 20, 30, 40, 50}. –ù–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥, –∫–æ–π—Ç–æ –æ—Ç–ø–µ—á–∞—Ç–≤–∞ —Ç—Ä–µ—Ç–∏—è –µ–ª–µ–º–µ–Ω—Ç.

```cpp
// –í–∞—à–∏—è—Ç –∫–æ–¥ —Ç—É–∫
```

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

```cpp
#include <iostream>

int main() {
    int arr[5] = {10, 20, 30, 40, 50};
    std::cout << "–¢—Ä–µ—Ç–∏—è—Ç –µ–ª–µ–º–µ–Ω—Ç –µ: " << arr[2] << std::endl;
    // –†–µ–∑—É–ª—Ç–∞—Ç: 30 (—Ç—ä–π –∫–∞—Ç–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–∞–Ω–µ—Ç–æ –µ 0-–±–∞–∑–∏—Ä–∞–Ω–æ)
    return 0;
}
```

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä —Ñ–ª–∞–≥ –∑–∞ debugging

**–í—ä–ø—Ä–æ—Å:** –ö–æ–π —Ñ–ª–∞–≥ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∏—Ö—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–ª–∏ –∑–∞ debugging –∏ –∑–∞—â–æ?

- A) -O0
- B) -O1
- C) -O2
- D) -O3

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ó–∞ debugging –µ –≤–∞–∂–Ω–æ –∫–æ–¥—ä—Ç –¥–∞ –±—ä–¥–µ –∫–æ–º–ø–∏–ª–∏—Ä–∞–Ω —Ç–æ—á–Ω–æ –∫–∞–∫—Ç–æ –µ –Ω–∞–ø–∏—Å–∞–Ω, –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–û—Ç–≥–æ–≤–æ—Ä: A) -O0**

`-O0` –æ–∑–Ω–∞—á–∞–≤–∞ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ö–æ–¥—ä—Ç –µ –∫–æ–º–ø–∏–ª–∏—Ä–∞–Ω —Ç–æ—á–Ω–æ –∫–∞–∫—Ç–æ –µ –Ω–∞–ø–∏—Å–∞–Ω, –∫–æ–µ—Ç–æ –ø—Ä–∞–≤–∏ debugging –ø–æ-–ª–µ—Å–µ–Ω, –∑–∞—â–æ—Ç–æ assembly –∫–æ–¥—ä—Ç —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞ –Ω–∞ source –∫–æ–¥–∞.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### std::vector –ø–∞–º–µ—Ç

**–í—è—Ä–Ω–æ –∏–ª–∏ –Ω–µ–≤—è—Ä–Ω–æ:** `std::vector` —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ —Å–∏ –≤ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∏ –ø–∞–º–µ—Ç–Ω–∏ –ª–æ–∫–∞—Ü–∏–∏, —Ç–æ—á–Ω–æ –∫–∞—Ç–æ —á–∏—Å—Ç C++ –º–∞—Å–∏–≤.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–û—Ç–≥–æ–≤–æ—Ä: –í—è—Ä–Ω–æ**

`std::vector` —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ —Å–∏ –≤ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç –Ω–∞ heap, –∫–æ–µ—Ç–æ –æ—Å–∏–≥—É—Ä—è–≤–∞ –æ—Ç–ª–∏—á–Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç, –ø–æ–¥–æ–±–Ω–æ –Ω–∞ —á–∏—Å—Ç–∏—Ç–µ –º–∞—Å–∏–≤–∏.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy">

### Constant Folding

–ö–∞–∫–≤–æ –µ constant folding? –î–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∑–∞ statement, –∫—ä–¥–µ—Ç–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–∏–ª–æ–∂–∏ constant folding.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –∏–∑—Ä–∞–∑–∏, –∫–æ–∏—Ç–æ —Å—ä–¥—ä—Ä–∂–∞—Ç —Å–∞–º–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∏ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∏–∑—á–∏—Å–ª–µ–Ω–∏ –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Constant folding** –µ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—è—Ç–æ –∏–∑—Ä–∞–∑–∏ —Å—ä–¥—ä—Ä–∂–∞—â–∏ —Å–∞–º–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞—Ç –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ runtime.

**–ü—Ä–∏–º–µ—Ä:**
```cpp
// –ü—Ä–µ–¥–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
int x = 5 + 3;
int y = 10 * 2 + 5;

// –°–ª–µ–¥ constant folding
int x = 8;
int y = 25;
```

</CollapsibleSection>

</ExerciseCard>

---

## –õ–µ—Å–Ω–∏-–°—Ä–µ–¥–Ω–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (EASY-MEDIUM)

–ò–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏—Ç–µ

<ExerciseCard difficulty="easy-medium">

### –í—Ä–µ–º–µ–Ω–Ω–∞ vs –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç

–û–±—è—Å–Ω–µ—Ç–µ —Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç. –î–∞–π—Ç–µ –∫–æ–¥ –ø—Ä–∏–º–µ—Ä, –∫–æ–π—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–í—Ä–µ–º–µ–Ω–Ω–∞—Ç–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç —Å–µ –æ—Ç–Ω–∞—Å—è –¥–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞ –Ω–∞ —Å—ä—â–∏—Ç–µ –¥–∞–Ω–Ω–∏, –¥–æ–∫–∞—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç —Å–µ –æ—Ç–Ω–∞—Å—è –¥–æ –¥–æ—Å—Ç—ä–ø –Ω–∞ –±–ª–∏–∑–∫–∏ –¥–∞–Ω–Ω–∏.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**–†–∞–∑–ª–∏–∫–∞ –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–Ω–∞ –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç:**

<Tabs>
<TabItem value="temporal" label="–í—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç" default>

**Temporal Locality**: –ê–∫–æ –¥–æ—Å—Ç—ä–ø–∏–º –¥–∞–¥–µ–Ω–∞ –ø–∞–º–µ—Ç, –µ –≤–µ—Ä–æ—è—Ç–Ω–æ –¥–∞ —è –¥–æ—Å—Ç—ä–ø–∏–º **–æ—Ç–Ω–æ–≤–æ —Å–∫–æ—Ä–æ**.

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–∞ —É–ø–æ—Ç—Ä–µ–±–∞ –Ω–∞ **—Å—ä—â–∏—Ç–µ –¥–∞–Ω–Ω–∏**
- –î–∞–Ω–Ω–∏—Ç–µ –æ—Å—Ç–∞–≤–∞—Ç –≤ cache –º–µ–∂–¥—É –¥–æ—Å—Ç—ä–ø–∏—Ç–µ
- –ü–æ–ª–µ–∑–Ω–æ –∑–∞ loop –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏, counters, —á–µ—Å—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏

**–ü—Ä–∏–º–µ—Ä:**
```cpp
int sum = 0;  // 'sum' –∏–º–∞ –æ—Ç–ª–∏—á–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
for (int i = 0; i < 1000000; i++) {
    sum += arr[i];  // 'sum' —Å–µ –¥–æ—Å—Ç—ä–ø–≤–∞ 1,000,000 –ø—ä—Ç–∏!
}
// 'sum' –æ—Å—Ç–∞–≤–∞ –≤ CPU registers/cache —Ü–µ–ª–∏—è –ø—ä—Ç
```

</TabItem>
<TabItem value="spatial" label="–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç">

**Spatial Locality**: –ê–∫–æ –¥–æ—Å—Ç—ä–ø–∏–º –¥–∞–¥–µ–Ω–∞ –ø–∞–º–µ—Ç, –µ –≤–µ—Ä–æ—è—Ç–Ω–æ –¥–∞ –¥–æ—Å—Ç—ä–ø–∏–º **—Å—ä—Å–µ–¥–Ω–∏—Ç–µ –ø–∞–º–µ—Ç–Ω–∏ –∞–¥—Ä–µ—Å–∏** —Å–∫–æ—Ä–æ.

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –î–æ—Å—Ç—ä–ø –¥–æ **–±–ª–∏–∑–∫–∏ –¥–∞–Ω–Ω–∏**
- Cache lines –∑–∞—Ä–µ–∂–¥–∞—Ç —Å—ä—Å–µ–¥–Ω–∏ –±–∞–π—Ç–æ–≤–µ
- –ü–æ–ª–µ–∑–Ω–æ –∑–∞ –º–∞—Å–∏–≤–∏, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

**–ü—Ä–∏–º–µ—Ä:**
```cpp
int arr[100];
// –û—Ç–ª–∏—á–Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
for (int i = 0; i < 100; i++) {
    arr[i] = i * 2;  // arr[0], arr[1], arr[2]... —Å–∞ —Å—ä—Å–µ–¥–Ω–∏!
}
```

</TabItem>
</Tabs>

**–ö–æ–º–±–∏–Ω–∏—Ä–∞–Ω –ø—Ä–∏–º–µ—Ä (–∏ –¥–≤–µ—Ç–µ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç–∏):**

```cpp
void calculate_sum(int* arr, int size) {
    int sum = 0;           // –í—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç (–∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ –º–Ω–æ–≥–æ –ø—ä—Ç–∏)

    for (int i = 0; i < size; i++) {
        sum += arr[i];     // –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø)
    }

    return sum;
}
```

**–í–∏–∑—É–∞–ª–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:**

| –õ–æ–∫–∞–ª–Ω–æ—Å—Ç | –§–æ–∫—É—Å | –ü—Ä–∏–º–µ—Ä |
|-----------|-------|--------|
| **–í—Ä–µ–º–µ–Ω–Ω–∞** | –ö–æ–ª–∫–æ **—á–µ—Å—Ç–æ** –¥–æ—Å—Ç—ä–ø–≤–∞–º–µ —Å—ä—â–∏—Ç–µ –¥–∞–Ω–Ω–∏ | Loop counter, accumulator |
| **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞** | –ö–æ–ª–∫–æ **–±–ª–∏–∑–æ** —Å–∞ –¥–∞–Ω–Ω–∏—Ç–µ, –∫–æ–∏—Ç–æ –¥–æ—Å—Ç—ä–ø–≤–∞–º–µ | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω array traversal |

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy-medium">

### std::array vs —á–∏—Å—Ç–∏ –º–∞—Å–∏–≤–∏

–°—Ä–∞–≤–Ω–µ—Ç–µ `std::array` –∏ —á–∏—Å—Ç–∏—Ç–µ C++ –º–∞—Å–∏–≤–∏. –ò–∑–±—Ä–æ–µ—Ç–µ –¥–≤–µ –ø—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –Ω–∞ `std::array` –ø—Ä–µ–¥ —á–∏—Å—Ç–∏—Ç–µ –º–∞—Å–∏–≤–∏.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞ –Ω–∞ std::array:**

1. **Bounds checking**: `std::array::at()` –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –≥—Ä–∞–Ω–∏—Ü–∏—Ç–µ –∏ —Ö–≤—ä—Ä–ª—è –∏–∑–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ out-of-bounds –¥–æ—Å—Ç—ä–ø
2. **STL —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç**: –†–∞–±–æ—Ç–∏ —Å STL –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∏ –∏–º–∞ –º–µ—Ç–æ–¥–∏ –∫–∞—Ç–æ `.size()`, `.begin()`, `.end()`
3. **–ü–æ-–±–µ–∑–æ–ø–∞—Å–µ–Ω**: –ù–µ —Å–µ —Ä–∞–∑–ø–∞–¥–∞ –¥–æ —É–∫–∞–∑–∞—Ç–µ–ª —Ç–æ–ª–∫–æ–≤–∞ –ª–µ—Å–Ω–æ
4. **–°—ä—â–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç**: –ù—è–º–∞ overhead —Å–ø—Ä—è–º–æ —á–∏—Å—Ç–∏—Ç–µ –º–∞—Å–∏–≤–∏

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy-medium">

### Out-of-bounds –¥–æ—Å—Ç—ä–ø

–ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ –∫–æ–≥–∞—Ç–æ –¥–æ—Å—Ç—ä–ø–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç –∏–∑–≤—ä–Ω –≥—Ä–∞–Ω–∏—Ü–∏—Ç–µ –Ω–∞ —á–∏—Å—Ç C++ –º–∞—Å–∏–≤ (–Ω–∞–ø—Ä. `arr[100]` –∫–æ–≥–∞—Ç–æ –º–∞—Å–∏–≤—ä—Ç –∏–º–∞ —Å–∞–º–æ 10 –µ–ª–µ–º–µ–Ω—Ç–∞)? –ó–∞—â–æ –µ —Ç–æ–≤–∞ –æ–ø–∞—Å–Ω–æ?

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ undefined behavior –∏ –∫–∞–∫–≤–∏ –ø—Ä–æ–±–ª–µ–º–∏ –º–æ–∂–µ –¥–∞ –ø—Ä–∏—á–∏–Ω–∏.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Undefined Behavior (UB)**

–î–æ—Å—Ç—ä–ø—ä—Ç –∏–∑–≤—ä–Ω –≥—Ä–∞–Ω–∏—Ü–∏—Ç–µ –Ω–∞ –º–∞—Å–∏–≤ –≤–æ–¥–∏ –¥–æ **undefined behavior**:
- –ú–æ–∂–µ –¥–∞ –ø—Ä–æ—á–µ—Ç–µ/–∑–∞–ø–∏—à–µ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∞ –ø–∞–º–µ—Ç
- –ú–æ–∂–µ –¥–∞ –ø—Ä–∏—á–∏–Ω–∏ segmentation fault (crash)
- –ú–æ–∂–µ –¥–∞ –ø—Ä–µ–∑–∞–ø–∏—à–µ –¥—Ä—É–≥–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏
- –ú–æ–∂–µ –¥–∞ —Ä–∞–±–æ—Ç–∏ "–ø—Ä–∞–≤–∏–ª–Ω–æ" –ø–æ–Ω—è–∫–æ–≥–∞, –Ω–æ –¥–∞ —Å–µ —Å—á—É–ø–∏ –≤ production
- **Security —Ä–∏—Å–∫**: Buffer overflow –∞—Ç–∞–∫–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º

**–ó–∞—â–æ –µ –æ–ø–∞—Å–Ω–æ:**
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –¢—Ä—É–¥–Ω–æ –∑–∞ debugging (–Ω–µ –≤–∏–Ω–∞–≥–∏ crash-–≤–∞ –≤–µ–¥–Ω–∞–≥–∞)
- Security —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –ú–æ–∂–µ –¥–∞ –∫–æ—Ä—É–º–ø–∏—Ä–∞ –¥–∞–Ω–Ω–∏

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy-medium">

### –§—É–Ω–∫—Ü–∏—è —Å const reference

–ù–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ `std::vector<int>` –ø–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –∏ –≤—Ä—ä—â–∞ —Å—É–º–∞—Ç–∞ –Ω–∞ –≤—Å–∏—á–∫–∏—Ç–µ –º—É –µ–ª–µ–º–µ–Ω—Ç–∏. –û–±—è—Å–Ω–µ—Ç–µ –∑–∞—â–æ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ—Ç–æ –ø–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è –µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–æ –ø—Ä–µ–¥ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ –ø–æ —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ —Ç–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è.

```cpp
// –í–∞—à–∏—è—Ç –∫–æ–¥ —Ç—É–∫
int sum_vector(/* –ø–∞—Ä–∞–º–µ—Ç—ä—Ä —Ç—É–∫ */) {
    // ...
}
```

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

```cpp
int sum_vector(const std::vector<int>& vec) {
    int sum = 0;
    for (int i = 0; i < vec.size(); ++i) {
        sum += vec[i];
    }
    return sum;
}

// –ò–ª–∏ —Å range-based for loop
int sum_vector(const std::vector<int>& vec) {
    int sum = 0;
    for (int val : vec) {
        sum += val;
    }
    return sum;
}
```

**–ó–∞—â–æ const reference:**
- **–ë–µ–∑ –∫–æ–ø–∏—Ä–∞–Ω–µ**: –ù–µ –∫–æ–ø–∏—Ä–∞ —Ü–µ–ª–∏—è vector (–º–æ–∂–µ –¥–∞ –µ —Ö–∏–ª—è–¥–∏ –µ–ª–µ–º–µ–Ω—Ç–∏!)
- **Performance**: O(1) –≤–º–µ—Å—Ç–æ O(n) –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ—Ç–æ
- **const**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –Ω—è–º–∞ –¥–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–∞ vector-–∞
- **–ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç**: –ü—Ä–µ–¥–∞–≤–∞ —Å–∞–º–æ –µ–¥–∏–Ω —É–∫–∞–∑–∞—Ç–µ–ª (8 bytes) –≤–º–µ—Å—Ç–æ —Ü–µ–ª–∏—è vector

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="easy-medium">

### Dead Code Elimination

–ö–∞–∫–≤–æ –µ dead code elimination? –î–∞–π—Ç–µ –∫–æ–¥ snippet, –∫—ä–¥–µ—Ç–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–µ–º–∞—Ö–Ω–µ dead code, –∏ –æ–±—è—Å–Ω–µ—Ç–µ –∫–∞–∫–≤–æ –±–∏ –±–∏–ª–æ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç–æ.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Dead code elimination** –ø—Ä–µ–º–∞—Ö–≤–∞ –∫–æ–¥, –∫–æ–π—Ç–æ:
- –ù–∏–∫–æ–≥–∞ –Ω–µ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ (unreachable)
- –†–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –º—É –Ω–∏–∫–æ–≥–∞ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞

**–ü—Ä–∏–º–µ—Ä:**
```cpp
int calculate(int x) {
    int unused = 42;           // ‚ùå –ù–∏–∫–æ–≥–∞ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞
    int result = x * 10;
    int temp = x + 5;          // ‚ùå –†–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞
    return result;
    int y = 100;               // ‚ùå Unreachable (—Å–ª–µ–¥ return)
}

// –°–ª–µ–¥ dead code elimination:
int calculate(int x) {
    int result = x * 10;
    return result;
}

// –ò–ª–∏ –æ—â–µ –ø–æ-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–æ:
int calculate(int x) {
    return x * 10;
}
```

</CollapsibleSection>

</ExerciseCard>

---

## –°—Ä–µ–¥–Ω–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (MEDIUM)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏—Ç–µ

<ExerciseCard difficulty="medium">

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏

–°—Ä–∞–≤–Ω–µ—Ç–µ –ø–∞–º–µ—Ç–Ω–∞—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ cache —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏—Ç–µ –Ω–∞ `std::vector`, `std::list`, –∏ `std::map`. –ó–∞ –∫–æ–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–∏ –∏–º–∞–ª –Ω–∞–π-–¥–æ–±—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç?

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –Ω–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ vs —Ä–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç –∏ –∫–∞–∫ —Ç–æ–≤–∞ –≤–ª–∏—è–µ –Ω–∞ cache locality.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏: –ü–∞–º–µ—Ç –∏ Cache**

<Tabs>
<TabItem value="vector" label="std::vector" default>

**–ü–∞–º–µ—Ç–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ù–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç (–≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–∞ –µ–¥–∏–Ω –¥–æ –¥—Ä—É–≥)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–Ω–∞ –ø–∞–º–µ—Ç –Ω–∞ heap
- ‚úÖ Capacity overhead (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ 1.5x –∏–ª–∏ 2x growth factor)

**Cache —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- ‚úÖ –û—Ç–ª–∏—á–µ–Ω cache hit rate –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è
- ‚úÖ CPU prefetching —Ä–∞–±–æ—Ç–∏ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ

**–ù–∞–π-–¥–æ–±—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –∑–∞:**
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø / –∏—Ç–µ—Ä–∞—Ü–∏—è (O(n), –º–Ω–æ–≥–æ –±—ä—Ä–∑–æ)
- ‚úÖ Random access –ø–æ –∏–Ω–¥–µ–∫—Å (O(1))
- ‚úÖ Push/pop –Ω–∞ –∫—Ä–∞—è (O(1) amortized)
- ‚ùå Insert/delete –≤ —Å—Ä–µ–¥–∞—Ç–∞ (O(n), –±–∞–≤–Ω–æ)

**Memory overhead:** ~8 bytes (pointer, size, capacity)

</TabItem>
<TabItem value="list" label="std::list">

**–ü–∞–º–µ—Ç–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**
- ‚ùå –†–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç (nodes —Ä–∞–∑—Ö–≤—ä—Ä–ª—è–Ω–∏ –∏–∑ heap-–∞)
- ‚ùå –í—Å–µ–∫–∏ node –∏–º–∞ 2 —É–∫–∞–∑–∞—Ç–µ–ª—è (prev/next)
- ‚ùå –í–∏—Å–æ–∫ memory overhead

**Cache —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå –õ–æ—à–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- ‚ùå –ú–Ω–æ–≥–æ cache misses –ø—Ä–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è
- ‚ùå CPU prefetching –Ω–µ —Ä–∞–±–æ—Ç–∏
- ‚ùå –í—Å–µ–∫–∏ node –¥–æ—Å—Ç—ä–ø –º–æ–∂–µ –¥–∞ –µ cache miss

**–ù–∞–π-–¥–æ–±—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –∑–∞:**
- ‚úÖ Insert/delete –≤ —Å—Ä–µ–¥–∞—Ç–∞ (O(1) —Å iterator)
- ‚úÖ Splice operations
- ‚ùå –ò—Ç–µ—Ä–∞—Ü–∏—è (O(n), –º–Ω–æ–≥–æ –±–∞–≤–Ω–æ!)
- ‚ùå Random access (O(n), –Ω—è–º–∞ operator[])

**Memory overhead:** ~16 bytes/–µ–ª–µ–º–µ–Ω—Ç (2 —É–∫–∞–∑–∞—Ç–µ–ª—è)

</TabItem>
<TabItem value="map" label="std::map">

**–ü–∞–º–µ—Ç–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**
- ‚ùå Tree —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ red-black tree)
- ‚ùå –†–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∞ –ø–∞–ºet (nodes –≤ heap)
- ‚ùå –í—Å–µ–∫–∏ node –∏–º–∞ 2-3 —É–∫–∞–∑–∞—Ç–µ–ª—è + metadata

**Cache —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå –õ–æ—à–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- ‚ùå –ú–Ω–æ–≥–æ cache misses –ø—Ä–∏ traversal
- ‚ùå Tree traversal = pointer chasing

**–ù–∞–π-–¥–æ–±—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –∑–∞:**
- ‚úÖ Sorted order (–≤–∏–Ω–∞–≥–∏ —Å–æ—Ä—Ç–∏—Ä–∞–Ω)
- ‚úÖ Logarithmic lookup (O(log n))
- ‚úÖ Insert/delete —Å—ä—Å –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ order (O(log n))
- ‚ùå –ò—Ç–µ—Ä–∞—Ü–∏—è (O(n), –±–∞–≤–Ω–æ)
- ‚ùå Sequential access (–Ω—è–º–∞)

**Memory overhead:** ~24+ bytes/–µ–ª–µ–º–µ–Ω—Ç (—É–∫–∞–∑–∞—Ç–µ–ª–∏ + color bit)

</TabItem>
</Tabs>

**Performance Comparison (1 –º–ª–Ω. –µ–ª–µ–º–µ–Ω—Ç–∞):**

| –û–ø–µ—Ä–∞—Ü–∏—è | vector | list | map |
|----------|--------|------|-----|
| Sequential iteration | **0.5ms** | 50ms | 100ms |
| Random access | **1ns** | - | 50ns |
| Insert at end | **10ns** | 100ns | 100ns |
| Insert in middle | 50ms | **10ns** | 100ns |
| Sorted order | ‚ùå | ‚ùå | ‚úÖ |

**–ü—Ä–∞–≤–∏–ª–æ –∑–∞ –∏–∑–±–æ—Ä:**

1. **std::vector** - Default choice! (90% –æ—Ç —Å–ª—É—á–∞–∏—Ç–µ)
   - –ò–∑–ø–æ–ª–∑–≤–∞–π –∫–æ–≥–∞—Ç–æ: —á–µ—Å—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è, random access, push_back

2. **std::list** - –†—è–¥–∫–æ (5% –æ—Ç —Å–ª—É—á–∞–∏—Ç–µ)
   - –ò–∑–ø–æ–ª–∑–≤–∞–π –∫–æ–≥–∞—Ç–æ: –º–Ω–æ–≥–æ —á–µ—Å—Ç–∏ insert/delete –≤ —Å—Ä–µ–¥–∞—Ç–∞ –ò —Ä—è–¥–∫–æ –∏—Ç–µ—Ä–∏—Ä–∞—à

3. **std::map** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω (5% –æ—Ç —Å–ª—É—á–∞–∏—Ç–µ)
   - –ò–∑–ø–æ–ª–∑–≤–∞–π –∫–æ–≥–∞—Ç–æ: –Ω—É–∂–¥–∞–µ—à —Å–µ –æ—Ç sorted order –ò logarithmic lookup

**–í–∞–∂–Ω–æ:** –ü–æ—Ä–∞–¥–∏ cache locality, –¥–æ—Ä–∏ `std::vector` —Å O(n) insert –º–æ–∂–µ –¥–∞ –µ –ø–æ-–±—ä—Ä–∑–æ –æ—Ç `std::list` —Å O(1) insert –∑–∞ –º–∞–ª–∫–∏ N!

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω vs Strided –¥–æ—Å—Ç—ä–ø

–ù–∞–ø–∏—à–µ—Ç–µ –¥–≤–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —É–º–Ω–æ–∂–∞–≤–∞ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ integer –º–∞—Å–∏–≤ –ø–æ 2: –µ–¥–Ω–∞ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –∏ –µ–¥–Ω–∞ —Å—ä—Å strided –¥–æ—Å—Ç—ä–ø (stride = 10). –û–±—è—Å–Ω–µ—Ç–µ –∫–æ—è –≤–µ—Ä—Å–∏—è —â–µ –∏–º–∞ –ø–æ-–¥–æ–±—Ä–∞ cache –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –∏ –∑–∞—â–æ.

```cpp
void multiply_sequential(int* arr, int size) {
    // –í–∞—à–∏—è—Ç –∫–æ–¥ —Ç—É–∫
}

void multiply_strided(int* arr, int size, int stride) {
    // –í–∞—à–∏—è—Ç –∫–æ–¥ —Ç—É–∫
}
```

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç –∏ cache lines.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

```cpp
void multiply_sequential(int* arr, int size) {
    for (int i = 0; i < size; ++i) {
        arr[i] = arr[i] * 2;
    }
}

void multiply_strided(int* arr, int size, int stride) {
    for (int i = 0; i < size; i += stride) {
        arr[i] = arr[i] * 2;
    }
}
```

**–ê–Ω–∞–ª–∏–∑ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞:**

**Sequential (–ø–æ-–±—ä—Ä–∑–∞):**
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- ‚úÖ –í—Å–µ–∫–∏ –¥–æ—Å—Ç—ä–ø –∑–∞—Ä–µ–∂–¥–∞ —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ 15-20 –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ cache line (64 bytes)
- ‚úÖ Cache hit rate ~95%+
- ‚úÖ CPU prefetching —Ä–∞–±–æ—Ç–∏ –æ—Ç–ª–∏—á–Ω–æ

**Strided —Å stride=10 (–ø–æ-–±–∞–≤–Ω–∞):**
- ‚ùå –õ–æ—à–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- ‚ùå –°–∫–∞—á–∞ –ø—Ä–µ–∑ 10 –µ–ª–µ–º–µ–Ω—Ç–∞ (40 bytes), –ø—Ä–æ–ø—É—Å–∫–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏—Ç–µ –≤ –∫–µ—à–∞
- ‚ùå Cache hit rate –ø–æ-–Ω–∏—Å—ä–∫
- ‚ùå CPU prefetching –Ω–µ —Ä–∞–±–æ—Ç–∏ –¥–æ–±—Ä–µ

**–û—á–∞–∫–≤–∞–Ω–∞ —Ä–∞–∑–ª–∏–∫–∞:** Sequential –º–æ–∂–µ –¥–∞ –µ **2-10x –ø–æ-–±—ä—Ä–∑–∞** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∏ cache –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ç–∞.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### Loop Unrolling

–û–±—è—Å–Ω–µ—Ç–µ –∫–∞–∫–≤–æ –µ loop unrolling –∏ –∑–∞—â–æ –º–æ–∂–µ –¥–∞ –ø–æ–¥–æ–±—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞. –ù–∞–ø–∏—à–µ—Ç–µ –ø—Ä–æ—Å—Ç —Ü–∏–∫—ä–ª, –∫–æ–π—Ç–æ —Å—É–º–∏—Ä–∞ –º–∞—Å–∏–≤, –ø–æ—Å–ª–µ –ø–æ–∫–∞–∂–µ—Ç–µ –∫–∞–∫ —Ü–∏–∫—ä–ª—ä—Ç –º–æ–∂–µ –¥–∞ –∏–∑–≥–ª–µ–∂–¥–∞ —Å–ª–µ–¥ –∫–∞—Ç–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –≥–æ unroll-–Ω–µ —Å —Ñ–∞–∫—Ç–æ—Ä 4.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Loop Unrolling** –µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—è—Ç–æ —Ç—è–ª–æ—Ç–æ –Ω–∞ —Ü–∏–∫—ä–ª–∞ —Å–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä–∞ –Ω—è–∫–æ–ª–∫–æ –ø—ä—Ç–∏, –Ω–∞–º–∞–ª—è–≤–∞–π–∫–∏ –±—Ä–æ—è –∏—Ç–µ—Ä–∞—Ü–∏–∏.

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- –ù–∞–º–∞–ª—è–≤–∞ loop overhead (–ø—Ä–æ–≤–µ—Ä–∫–∏, increments, branches)
- –ü–æ–¥–æ–±—Ä—è–≤–∞ instruction-level parallelism
- –ü–æ–∑–≤–æ–ª—è–≤–∞ –ø–æ-–¥–æ–±—Ä–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ registers
- –ù–∞–º–∞–ª—è–≤–∞ branch mispredictions

**–ü—Ä–∏–º–µ—Ä:**

```cpp
// –û—Ä–∏–≥–∏–Ω–∞–ª–µ–Ω —Ü–∏–∫—ä–ª
int sum = 0;
for (int i = 0; i < 100; ++i) {
    sum += arr[i];
}

// –°–ª–µ–¥ unrolling —Å —Ñ–∞–∫—Ç–æ—Ä 4
int sum = 0;
int i = 0;
for (; i < 100 - 3; i += 4) {
    sum += arr[i];
    sum += arr[i+1];
    sum += arr[i+2];
    sum += arr[i+3];
}
// –û—Å—Ç–∞—Ç—ä–∫ (–∞–∫–æ size –Ω–µ –µ –¥–µ–ª–∏–º –Ω–∞ 4)
for (; i < 100; ++i) {
    sum += arr[i];
}
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** –í–º–µ—Å—Ç–æ 100 –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–∏, –∏–º–∞–º–µ 25 –∏—Ç–µ—Ä–∞—Ü–∏–∏ + –µ–≤–µ–Ω—Ç—É–∞–ª–µ–Ω –æ—Å—Ç–∞—Ç—ä–∫.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–µ –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ü—Ä–∏ –¥–∞–¥–µ–Ω —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–π—Ç–µ –ø–æ–Ω–µ —Ç—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ–∏—Ç–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–∏–ª–æ–∂–∏ –Ω–∞ –Ω–∏–≤–æ `-O3`:

```cpp
int calculate(int x) {
    const int multiplier = 10;
    int result = x * multiplier + 5 * 2;
    int unused = x + 100;
    return result;
}
```

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ–∏—Ç–æ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –ø—Ä–∏–ª–æ–∂–∏:**

1. **Constant Propagation**: `multiplier = 10` —Å–µ –∑–∞–º–µ—Å—Ç–≤–∞ —Å `10` –¥–∏—Ä–µ–∫—Ç–Ω–æ
2. **Constant Folding**: `5 * 2` —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ –∫–∞—Ç–æ `10` –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∫–æ–º–ø–∏–ª–∞—Ü–∏—è
3. **Dead Code Elimination**: `int unused = x + 100;` —Å–µ –ø—Ä–µ–º–∞—Ö–≤–∞ (–Ω–∏–∫–æ–≥–∞ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞)
4. **Expression Simplification**: `x * 10 + 10` –º–æ–∂–µ –¥–∞ —Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ

**–†–µ–∑—É–ª—Ç–∞—Ç:**
```cpp
int calculate(int x) {
    return x * 10 + 10;
}

// –ò–ª–∏ –¥–æ—Ä–∏:
int calculate(int x) {
    return (x + 1) * 10;  // –ü–æ-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞ –Ω—è–∫–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∏
}
```

–ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Å–∞–º–æ –Ω—è–∫–æ–ª–∫–æ assembly –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—Ç–µ –º–Ω–æ–≥–æ!

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### –ò–∑–±–æ—Ä –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–¢—Ä—è–±–≤–∞ –¥–∞ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç–µ 10,000 integers –∏ —á–µ—Å—Ç–æ –¥–∞ –∏—Ç–µ—Ä–∏—Ä–∞—Ç–µ –ø—Ä–µ–∑ –≤—Å–∏—á–∫–∏, –∑–∞ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è. –ë–∏—Ö—Ç–µ –ª–∏ –∏–∑–±—Ä–∞–ª–∏ `std::vector` –∏–ª–∏ `std::list`? –û–±–æ—Å–Ω–æ–≤–µ—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∞ —Å–∏ –±–∞–∑–∏—Ä–∞–π–∫–∏ —Å–µ –Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–û—Ç–≥–æ–≤–æ—Ä: std::vector**

**–û–±–æ—Å–Ω–æ–≤–∫–∞:**

<Tabs>
<TabItem value="vector" label="‚úÖ std::vector (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)" default>

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç**: –ù–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç ‚Üí –æ—Ç–ª–∏—á–Ω–∏ cache hits
- ‚úÖ **–ë—ä—Ä–∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è**: –ú–æ–∂–µ –¥–∞ –µ 10-100x –ø–æ-–±—ä—Ä–∑–∞ –æ—Ç list
- ‚úÖ **CPU prefetching**: –†–∞–±–æ—Ç–∏ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø
- ‚úÖ **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ —Ü–∏–∫–ª–∏—Ç–µ
- ‚úÖ **Memory overhead**: –ú–∏–Ω–∏–º–∞–ª–µ–Ω (—Å–∞–º–æ capacity overhead)

**–ò–∑–º–µ—Ä–≤–∞–Ω–∏—è:** –ó–∞ 10,000 –µ–ª–µ–º–µ–Ω—Ç–∞, –∏—Ç–µ—Ä–∞—Ü–∏—è—Ç–∞ –µ ~0.01ms

</TabItem>
<TabItem value="list" label="‚ùå std::list (–ù–ï –ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)">

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏ –∑–∞ —Ç–æ–∑–∏ —Å–ª—É—á–∞–π:**
- ‚ùå **–õ–æ—à–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç**: Nodes —Ä–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∏ –≤ heap
- ‚ùå **–ë–∞–≤–Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è**: –°–ª–µ–¥–≤–∞–Ω–µ –Ω–∞ 10,000 —É–∫–∞–∑–∞—Ç–µ–ª—è
- ‚ùå **Cache misses**: –í—Å–µ–∫–∏ node –º–æ–∂–µ –¥–∞ –µ cache miss
- ‚ùå **No prefetching**: CPU –Ω–µ –º–æ–∂–µ –¥–∞ prefetch-–Ω–µ
- ‚ùå **No –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –Ω–µ –º–æ–∂–µ –¥–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞
- ‚ùå **Memory overhead**: 16 bytes/–µ–ª–µ–º–µ–Ω—Ç (2 —É–∫–∞–∑–∞—Ç–µ–ª—è)

**–ò–∑–º–µ—Ä–≤–∞–Ω–∏—è:** –ó–∞ 10,000 –µ–ª–µ–º–µ–Ω—Ç–∞, –∏—Ç–µ—Ä–∞—Ü–∏—è—Ç–∞ –µ ~0.5-1ms (50-100x –ø–æ-–±–∞–≤–Ω–∞!)

</TabItem>
</Tabs>

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ó–∞ —á–µ—Å—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è, `std::vector` –µ –ø–æ—á—Ç–∏ –≤–∏–Ω–∞–≥–∏ –ø–æ-–¥–æ–±—Ä–∏—è—Ç –∏–∑–±–æ—Ä. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `std::list` —Å–∞–º–æ –∞–∫–æ –∏–º–∞—Ç–µ **—á–µ—Å—Ç–∏** –≤–º—ä–∫–≤–∞–Ω–∏—è/–∏–∑—Ç—Ä–∏–≤–∞–Ω–∏—è –≤ —Å—Ä–µ–¥–∞—Ç–∞ –ò —Ä—è–¥–∫–æ –∏—Ç–µ—Ä–∏—Ä–∞—Ç–µ.

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### Common Subexpression Elimination (CSE)

–ö–∞–∫–≤–æ –µ Common Subexpression Elimination? –ü—Ä–∏ –¥–∞–¥–µ–Ω —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥, –ø–æ–∫–∞–∂–µ—Ç–µ –∫–∞–∫ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞ –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ CSE:

```cpp
int a = x * y + z;
int b = x * y + w;
int c = x * y + 5;
```

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Common Subexpression Elimination (CSE)** –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞ –∏–∑—Ä–∞–∑–∏, –∫–æ–∏—Ç–æ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, –∏ –≥–∏ –∏–∑—á–∏—Å–ª—è–≤–∞ –≤–µ–¥–Ω—ä–∂, –∑–∞–ø–∞–∑–≤–∞–π–∫–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞.

**–û—Ä–∏–≥–∏–Ω–∞–ª–µ–Ω –∫–æ–¥:**
```cpp
int a = x * y + z;
int b = x * y + w;  // x * y —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ –æ—Ç–Ω–æ–≤–æ
int c = x * y + 5;  // x * y —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ —Ç—Ä–µ—Ç–∏ –ø—ä—Ç
```

**–°–ª–µ–¥ CSE –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```cpp
int temp = x * y;   // –ò–∑—á–∏—Å–ª–∏ –≤–µ–¥–Ω—ä–∂
int a = temp + z;
int b = temp + w;
int c = temp + 5;
```

**–ü–æ–ª–∑–∏:**
- –ù–∞–º–∞–ª—è–≤–∞ –±—Ä–æ—è –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç 3 —É–º–Ω–æ–∂–µ–Ω–∏—è –¥–æ 1
- –ü–æ-–º–∞–ª–∫–æ CPU –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ü–æ-–±—ä—Ä–∑–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ

**–í–∞–∂–Ω–æ:** CSE —Ä–∞–±–æ—Ç–∏ —Å–∞–º–æ –∞–∫–æ `x` –∏ `y` –Ω–µ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç –º–µ–∂–¥—É –∏–∑—Ä–∞–∑–∏—Ç–µ!

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium">

### Cache lines –∏ cache misses

–û–±—è—Å–Ω–µ—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ç–∞ –∑–∞ cache lines –∏ cache misses. –ó–∞—â–æ strided –¥–æ—Å—Ç—ä–ø —Å –≥–æ–ª—è–º–∞ stride —Å—Ç–æ–π–Ω–æ—Å—Ç –≤–æ–¥–∏ –¥–æ –ª–æ—à–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç?

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ cache line (—Ç–∏–ø–∏—á–Ω–æ 64 bytes) –∏ –∫–∞–∫ –¥–∞–Ω–Ω–∏—Ç–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –≤ –∫–µ—à–∞.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Cache Line:**
- CPU-—Ç–æ –∑–∞—Ä–µ–∂–¥–∞ –¥–∞–Ω–Ω–∏ –≤ –∫–µ—à–∞ –Ω–µ byte –ø–æ byte, –∞ –≤ —Ü–µ–ª–∏ **cache lines**
- –¢–∏–ø–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä: **64 bytes**
- –ö–æ–≥–∞—Ç–æ –¥–æ—Å—Ç—ä–ø–∏—Ç–µ 1 byte, —Ü—è–ª–∞—Ç–∞ cache line (64 bytes) —Å–µ –∑–∞—Ä–µ–∂–¥–∞

**Cache Hit vs Miss:**
- **Cache Hit**: –î–∞–Ω–Ω–∏—Ç–µ —Å–∞ –≤ –∫–µ—à–∞ ‚Üí –±—ä—Ä–∑–æ (~4 —Ü–∏–∫—ä–ª–∞)
- **Cache Miss**: –î–∞–Ω–Ω–∏—Ç–µ –Ω–µ —Å–∞ –≤ –∫–µ—à–∞ ‚Üí –±–∞–≤–Ω–æ (~200 —Ü–∏–∫—ä–ª–∞)

**–ó–∞—â–æ strided –¥–æ—Å—Ç—ä–ø –µ –ª–æ—à:**

<Tabs>
<TabItem value="sequential" label="–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –¥–æ—Å—Ç—ä–ø (–¥–æ–±—ä—Ä)" default>

```cpp
for (int i = 0; i < 1000; ++i) {
    sum += arr[i];  // i = 0, 1, 2, 3...
}
```

**Cache behavior:**
- –î–æ—Å—Ç—ä–ø –¥–æ `arr[0]` ‚Üí –∑–∞—Ä–µ–∂–¥–∞ cache line (64 bytes = 16 integers)
- `arr[1]`, `arr[2]`, ..., `arr[15]` —Å–∞ –≤–µ—á–µ –≤ –∫–µ—à–∞ ‚Üí cache hits!
- **Hit rate: ~94%** (1 miss –Ω–∞ 16 –¥–æ—Å—Ç—ä–ø–∞)

</TabItem>
<TabItem value="strided" label="Strided –¥–æ—Å—Ç—ä–ø (–ª–æ—à)">

```cpp
for (int i = 0; i < 1000; i += 100) {
    sum += arr[i];  // i = 0, 100, 200, 300...
}
```

**Cache behavior:**
- –î–æ—Å—Ç—ä–ø –¥–æ `arr[0]` ‚Üí –∑–∞—Ä–µ–∂–¥–∞ cache line
- `arr[100]` –µ –Ω–∞ **400 bytes –ø–æ-–Ω–∞—Ç–∞—Ç—ä–∫** (–∏–∑–≤—ä–Ω cache line-–∞) ‚Üí cache miss!
- `arr[200]` ‚Üí –ø–∞–∫ cache miss!
- **Hit rate: ~0%** - –ø–æ—á—Ç–∏ –≤—Å–µ–∫–∏ –¥–æ—Å—Ç—ä–ø –µ miss

</TabItem>
</Tabs>

**Performance impact:** Strided –¥–æ—Å—Ç—ä–ø –º–æ–∂–µ –¥–∞ –µ **10-100x –ø–æ-–±–∞–≤–µ–Ω** –ø–æ—Ä–∞–¥–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–∏—Ç–µ cache misses!

</CollapsibleSection>

</ExerciseCard>

---

## –°—Ä–µ–¥–Ω–∏-–¢—Ä—É–¥–Ω–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (MEDIUM-HARD)

–ù–∞–ø—Ä–µ–¥–Ω–∞–ª–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ

<ExerciseCard difficulty="medium-hard">

### Compiler Explorer –∞–Ω–∞–ª–∏–∑

–ò–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ Compiler Explorer (godbolt.org), –Ω–∞–ø–∏—à–µ—Ç–µ –ø—Ä–æ—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —Å—ä–±–∏—Ä–∞ –¥–≤–∞ –º–∞—Å–∏–≤–∞ element-wise. –ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ —Å `-O0` –∏ `-O3`. –û–ø–∏—à–µ—Ç–µ –ø–æ–Ω–µ —Ç—Ä–∏ —Ä–∞–∑–ª–∏–∫–∏, –∫–æ–∏—Ç–æ –Ω–∞–±–ª—é–¥–∞–≤–∞—Ç–µ –≤ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏—è assembly –∫–æ–¥.

```cpp
void add_arrays(int* a, int* b, int* result, int n) {
    for (int i = 0; i < n; i++) {
        result[i] = a[i] + b[i];
    }
}
```

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–¢—ä—Ä—Å–µ—Ç–µ loop unrolling, –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (SIMD –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏), –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ registers.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**Compiler Explorer –∞–Ω–∞–ª–∏–∑:**

–û—Ç–∏–¥–µ—Ç–µ –Ω–∞ [godbolt.org](https://godbolt.org) –∏ –≤—ä–≤–µ–¥–µ—Ç–µ –∫–æ–¥–∞. –ï—Ç–æ –∫–∞–∫–≤–æ –¥–∞ —Ç—ä—Ä—Å–∏—Ç–µ:

**–° -O0 (–±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):**

```asm
add_arrays(int*, int*, int*, int):
    push    rbp
    mov     rbp, rsp
    mov     QWORD PTR [rbp-24], rdi
    mov     QWORD PTR [rbp-32], rsi
    mov     QWORD PTR [rbp-40], rdx
    mov     DWORD PTR [rbp-44], ecx
    mov     DWORD PTR [rbp-4], 0          ; i = 0
.L3:
    mov     eax, DWORD PTR [rbp-4]
    cmp     eax, DWORD PTR [rbp-44]       ; i < n –ø—Ä–æ–≤–µ—Ä–∫–∞
    jge     .L2                            ; branch
    mov     eax, DWORD PTR [rbp-4]
    cdqe
    lea     rdx, [0+rax*4]
    mov     rax, QWORD PTR [rbp-24]
    add     rax, rdx
    mov     ecx, DWORD PTR [rax]          ; –∑–∞—Ä–µ–¥–∏ a[i]
    mov     eax, DWORD PTR [rbp-4]
    cdqe
    lea     rdx, [0+rax*4]
    mov     rax, QWORD PTR [rbp-32]
    add     rax, rdx
    mov     edx, DWORD PTR [rax]          ; –∑–∞—Ä–µ–¥–∏ b[i]
    add     edx, ecx                       ; a[i] + b[i]
    ; ... –æ—â–µ –º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ –∑–∞–ø–∏—Å
    add     DWORD PTR [rbp-4], 1          ; i++
    jmp     .L3
.L2:
    pop     rbp
    ret
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ -O0:**
- ‚ùå –ú–Ω–æ–≥–æ stack –æ–ø–µ—Ä–∞—Ü–∏–∏ (push/pop)
- ‚ùå –í—Å—è–∫–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ —Å–µ –ø–∞–∑–∏ –≤ stack memory
- ‚ùå Loop counter (`i`) —Å–µ —á–µ—Ç–µ/–ø–∏—à–µ –æ—Ç –ø–∞–º–µ—Ç –≤—Å—è–∫–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è
- ‚ùå –ú–Ω–æ–≥–æ load/store –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚ùå –ü—Ä–æ—Å—Ç, –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω loop
- ‚úÖ –õ–µ—Å–Ω–æ –∑–∞ debugging (1-to-1 mapping —Å source –∫–æ–¥–∞)

**–° -O3 (–∞–≥—Ä–µ—Å–∏–≤–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):**

```asm
add_arrays(int*, int*, int*, int):
    test    ecx, ecx
    jle     .L1                            ; —Ä–∞–Ω–µ–Ω exit –∞–∫–æ n <= 0
    lea     eax, [rcx-1]
    cmp     eax, 2
    jbe     .L7                            ; –º–∞–ª–∫–æ n -> scalar loop

    ; SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è!
    movdqu  xmm0, XMMWORD PTR [rdi]        ; –∑–∞—Ä–µ–¥–∏ 4 ints –æ—Ç a[]
    movdqu  xmm1, XMMWORD PTR [rsi]        ; –∑–∞—Ä–µ–¥–∏ 4 ints –æ—Ç b[]
    paddd   xmm0, xmm1                     ; –¥–æ–±–∞–≤–∏ 4 ints –Ω–∞–≤–µ–¥–Ω—ä–∂!
    movups  XMMWORD PTR [rdx], xmm0        ; –∑–∞–ø–∏—à–∏ 4 ints

    ; Loop –µ unroll-–Ω–∞—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–≤–∞ 4+ –µ–ª–µ–º–µ–Ω—Ç–∞/–∏—Ç–µ—Ä–∞—Ü–∏—è
    add     rdi, 16                        ; advance —É–∫–∞–∑–∞—Ç–µ–ª—è —Å 4*4 bytes
    add     rsi, 16
    add     rdx, 16
    sub     r8d, 4                         ; counter -= 4
    jne     .L3                            ; –ø–æ–≤—Ç–æ—Ä–∏
.L1:
    ret
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ -O3:**
- ‚úÖ **SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: `paddd xmm0, xmm1` –¥–æ–±–∞–≤—è 4 integers –Ω–∞–≤–µ–¥–Ω—ä–∂!
- ‚úÖ **Loop unrolling**: –æ–±—Ä–∞–±–æ—Ç–≤–∞ 4+ –µ–ª–µ–º–µ–Ω—Ç–∞/–∏—Ç–µ—Ä–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ 1
- ‚úÖ **Register optimization**: –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ —Å–∞ –≤ registers (rdi, rsi, rdx)
- ‚úÖ **–ï–ª–∏–º–∏–Ω–∏—Ä–∞–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏**: –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–∞ branch –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ **–ú–∞–ª–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: 5-10x –ø–æ-–º–∞–ª–∫–æ assembly –∫–æ–¥
- ‚úÖ **Pointer arithmetic**: –≤–º–µ—Å—Ç–æ array indexing

**–ö–ª—é—á–æ–≤–∏ —Ä–∞–∑–ª–∏–∫–∏:**

| –ê—Å–ø–µ–∫—Ç | -O0 | -O3 |
|--------|-----|-----|
| **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏/–∏—Ç–µ—Ä–∞—Ü–∏—è** | ~20-30 | ~5-8 (4x –ø–æ-–º–∞–ª–∫–æ) |
| **SIMD** | ‚ùå –°–∫–∞–ª–∞—Ä–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ | ‚úÖ 4 –µ–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞–≤–µ–¥–Ω—ä–∂ |
| **Loop unrolling** | ‚ùå –ù—è–º–∞ | ‚úÖ –§–∞–∫—Ç–æ—Ä 4+ |
| **Registers** | ‚ùå Stack memory | ‚úÖ CPU registers |
| **Performance** | Baseline | **5-10x –ø–æ-–±—ä—Ä–∑–æ** |

**–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:** –ö–æ–ø–∏—Ä–∞–π—Ç–µ –∫–æ–¥–∞ –≤ Compiler Explorer –∏ —Å—Ä–∞–≤–Ω–µ—Ç–µ!

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium-hard">

### __restrict keyword

–û–±—è—Å–Ω–µ—Ç–µ –∫–∞–∫–≤–æ –ø—Ä–∞–≤–∏ –∫–ª—é—á–æ–≤–∞—Ç–∞ –¥—É–º–∞ `__restrict` –∏ –∑–∞—â–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ –ø–æ-–∞–≥—Ä–µ—Å–∏–≤–Ω–∏ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –î–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä, –∫—ä–¥–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ `__restrict` –±–∏ –Ω–∞–ø—Ä–∞–≤–∏–ª–æ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–∞ —Ä–∞–∑–ª–∏–∫–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞.

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**`__restrict` keyword:**

`__restrict` –µ –æ–±–µ—â–∞–Ω–∏–µ –∫—ä–º –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–∞, —á–µ –¥–∞–¥–µ–Ω–∏—è—Ç —É–∫–∞–∑–∞—Ç–µ–ª –µ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∏—è—Ç** –Ω–∞—á–∏–Ω –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –ø–∞–º–µ—Ç—Ç–∞, –∫–æ—è—Ç–æ —Å–æ—á–∏ (–≤ —Ç–æ–∑–∏ scope). –¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ –Ω–µ —Å–µ –ø—Ä–∏–ø–æ–∫—Ä–∏–≤–∞ —Å –¥—Ä—É–≥–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏.

**–ó–∞—â–æ –µ –≤–∞–∂–Ω–æ:**

–ë–µ–∑ `__restrict`, –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞ **pointer aliasing** - —á–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ —Å–µ –ø—Ä–∏–ø–æ–∫—Ä–∏–≤–∞—Ç, –∫–æ–µ—Ç–æ –∏–Ω—Ö–∏–±–∏—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏—Ç–µ.

**–ü—Ä–∏–º–µ—Ä:**

```cpp
// –ë–µ–∑ __restrict - –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–µ–Ω
void add_arrays_no_restrict(int* a, int* b, int* c, int n) {
    for (int i = 0; i < n; i++) {
        a[i] = b[i] + c[i];
    }
}

// –° __restrict - –ø–æ–∑–≤–æ–ª—è–≤–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
void add_arrays_with_restrict(int* __restrict a,
                               int* __restrict b,
                               int* __restrict c, int n) {
    for (int i = 0; i < n; i++) {
        a[i] = b[i] + c[i];
    }
}
```

**Performance —Ä–∞–∑–ª–∏–∫–∞:**

–ù–∞ Compiler Explorer —Å `-O3`:

**–ë–µ–∑ __restrict:**
- –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Å–∫–∞–ª–∞—Ä–µ–Ω –∫–æ–¥
- –¢—Ä—è–±–≤–∞ –¥–∞ —á–µ—Ç–µ `b[i]` –∏ `c[i]` –ø—Ä–µ–¥–∏ –¥–∞ –∑–∞–ø–∏—à–µ `a[i]`
- –ù–µ –º–æ–∂–µ –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ

**–° __restrict:**
- **SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –û–±—Ä–∞–±–æ—Ç–≤–∞ 4-8 –µ–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞–≤–µ–¥–Ω—ä–∂
- –ò–∑–ø–æ–ª–∑–≤–∞ `vmovdqu`, `vpaddd` –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (AVX)
- **2-4x speedup** –∑–∞ –ø—Ä–æ—Å—Ç–∏ loops!

<WarningBox title="–í–Ω–∏–º–∞–Ω–∏–µ">

–ê–∫–æ –Ω–∞—Ä—É—à–∏—Ç–µ –æ–±–µ—â–∞–Ω–∏–µ—Ç–æ (–ø—Ä–µ–¥–∞–¥–µ—Ç–µ –ø—Ä–∏–ø–æ–∫—Ä–∏–≤–∞—â–∏ —Å–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏), –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –µ **undefined**!

</WarningBox>

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium-hard">

### Benchmark: vector vs list

–ü—Ä–æ–µ–∫—Ç–∏—Ä–∞–π—Ç–µ –º–∞–ª—ä–∫ benchmark –∑–∞ –∏–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ –º–µ–∂–¥—É –∏—Ç–µ—Ä–∏—Ä–∞–Ω–µ –ø—Ä–µ–∑ `std::vector<int>` –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ versus –∏—Ç–µ—Ä–∏—Ä–∞–Ω–µ –ø—Ä–µ–∑ `std::list<int>`. –û–±—è—Å–Ω–µ—Ç–µ –æ—á–∞–∫–≤–∞–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∏—Ç–µ –∑–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ std::chrono –∑–∞ –∏–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ—Ç–æ. –¢–µ—Å—Ç–≤–∞–π—Ç–µ —Å –≥–æ–ª—è–º –±—Ä–æ–π –µ–ª–µ–º–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä. 1 –º–∏–ª–∏–æ–Ω).

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**Benchmark: vector vs list –∏—Ç–µ—Ä–∞—Ü–∏—è**

```cpp
#include <iostream>
#include <vector>
#include <list>
#include <chrono>

// Benchmark –∑–∞ std::vector
void benchmark_vector(int size) {
    std::vector<int> vec(size);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    for (int i = 0; i < size; i++) {
        vec[i] = i;
    }

    // –ò–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è
    auto start = std::chrono::high_resolution_clock::now();

    long long sum = 0;
    for (int i = 0; i < size; i++) {
        sum += vec[i];
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

    std::cout << "vector iteration: " << duration.count() << " Œºs" << std::endl;
    std::cout << "Sum: " << sum << " (to prevent optimization)" << std::endl;
}

// Benchmark –∑–∞ std::list
void benchmark_list(int size) {
    std::list<int> lst;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    for (int i = 0; i < size; i++) {
        lst.push_back(i);
    }

    // –ò–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è
    auto start = std::chrono::high_resolution_clock::now();

    long long sum = 0;
    for (int val : lst) {
        sum += val;
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

    std::cout << "list iteration: " << duration.count() << " Œºs" << std::endl;
    std::cout << "Sum: " << sum << " (to prevent optimization)" << std::endl;
}

int main() {
    const int SIZE = 1000000;  // 1 –º–∏–ª–∏–æ–Ω –µ–ª–µ–º–µ–Ω—Ç–∞

    std::cout << "Benchmarking with " << SIZE << " elements:" << std::endl;
    std::cout << "===========================================" << std::endl;

    benchmark_vector(SIZE);
    std::cout << std::endl;
    benchmark_list(SIZE);

    return 0;
}
```

**–ö–æ–º–ø–∏–ª–∞—Ü–∏—è –∏ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ:**

```bash
# –ö–æ–º–ø–∏–ª–∏—Ä–∞–π —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
g++ -O3 -std=c++17 benchmark.cpp -o benchmark

# –ò–∑–ø—ä–ª–Ω–∏
./benchmark
```

**–û—á–∞–∫–≤–∞–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ (—Ç–∏–ø–∏—á–Ω–∞ x86-64 –º–∞—à–∏–Ω–∞):**

```
Benchmarking with 1000000 elements:
===========================================
vector iteration: 450 Œºs
Sum: 499999500000

list iteration: 25000 Œºs
Sum: 499999500000
```

**–ê–Ω–∞–ª–∏–∑ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ:**

| –ú–µ—Ç—Ä–∏–∫–∞ | std::vector | std::list | –†–∞–∑–ª–∏–∫–∞ |
|---------|-------------|-----------|---------|
| **–í—Ä–µ–º–µ** | ~450 Œºs | ~25,000 Œºs | **50-60x –ø–æ-–±–∞–≤–Ω–æ!** |
| **Cache misses** | –ú–∞–ª–∫–æ (~6%) | –ú–Ω–æ–≥–æ (~95%) | - |
| **Memory access pattern** | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω | Pointer chasing | - |
| **CPU prefetching** | –†–∞–±–æ—Ç–∏ –æ—Ç–ª–∏—á–Ω–æ | –ù–µ —Ä–∞–±–æ—Ç–∏ | - |

**–û–±—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ:**

**std::vector (–±—ä—Ä–∑–æ):**
- ‚úÖ **–ù–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç**: –í—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–∞ –µ–¥–∏–Ω –¥–æ –¥—Ä—É–≥
- ‚úÖ **Cache hits**: –ü—Ä–∏ –¥–æ—Å—Ç—ä–ø –¥–æ –µ–ª–µ–º–µ–Ω—Ç, —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ 15-20 —Å—ä—â–æ —Å–∞ –≤ –∫–µ—à–∞
- ‚úÖ **CPU prefetching**: CPU-—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Ä–µ–∂–¥–∞ —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ –¥–∞–Ω–Ω–∏
- ‚úÖ **SIMD –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª**: –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ (—Å -O3)

**std::list (–±–∞–≤–Ω–æ):**
- ‚ùå **–†–∞–∑–ø—Ä—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç**: –í—Å–µ–∫–∏ node –µ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–æ –º—è—Å—Ç–æ –≤ heap-–∞
- ‚ùå **Cache misses**: –í—Å–µ–∫–∏ node –¥–æ—Å—Ç—ä–ø –µ –≤–µ—Ä–æ—è—Ç–Ω–æ cache miss
- ‚ùå **Pointer chasing**: –¢—Ä—è–±–≤–∞ –¥–∞ —Å–ª–µ–¥–≤–∞–º–µ 1,000,000 —É–∫–∞–∑–∞—Ç–µ–ª—è
- ‚ùå **No prefetching**: CPU –Ω–µ –º–æ–∂–µ –¥–∞ –ø—Ä–µ–¥–≤–∏–¥–∏ –∫—ä–¥–µ –µ —Å–ª–µ–¥–≤–∞—â–∏—è—Ç node
- ‚ùå **No SIMD**: –ù–µ–≤—ä–∑–º–æ–∂–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–æ–¥:**

–ó–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ–∏—Ç–æ –∏–∑–∏—Å–∫–≤–∞—Ç —á–µ—Å—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è, `std::vector` –µ **–ø–æ—á—Ç–∏ –≤–∏–Ω–∞–≥–∏ –ø–æ-–¥–æ–±—Ä–∏—è—Ç –∏–∑–±–æ—Ä**, –¥–æ—Ä–∏ –∞–∫–æ –∏–º–∞ O(n) complexity –∑–∞ –Ω—è–∫–æ–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ç–æ insert –≤ —Å—Ä–µ–¥–∞—Ç–∞.

**–ò–∑–∫–ª—é—á–µ–Ω–∏—è –∫–æ–≥–∞—Ç–æ list –º–æ–∂–µ –¥–∞ –µ –ø–æ-–¥–æ–±—ä—Ä:**
- –ú–Ω–æ–≥–æ —á–µ—Å—Ç–∏ insert/delete –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Å—Ä–µ–¥–∞—Ç–∞
- –†—è–¥–∫–æ –∏—Ç–µ—Ä–∏—Ä–∞—à –ø—Ä–µ–∑ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
- –ù—É–∂–¥–∞–µ—à —Å–µ –æ—Ç stable iterators

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium-hard">

### –ü—Ä–æ–±–ª–µ–º–∏ —Å –ª–æ–∫–∞–ª–Ω–æ—Å—Ç—Ç–∞ –ø—Ä–∏ –º–∞—Ç—Ä–∏—á–Ω–æ —É–º–Ω–æ–∂–µ–Ω–∏–µ

–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –∑–∞ –º–∞—Ç—Ä–∏—á–Ω–æ —É–º–Ω–æ–∂–µ–Ω–∏–µ. –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏—Ç–µ —Å –ª–æ–∫–∞–ª–Ω–æ—Å—Ç—Ç–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ—Ç–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è, –∫–æ—è—Ç–æ –±–∏ –ø–æ–¥–æ–±—Ä–∏–ª–∞ cache –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞:

```cpp
void matrix_multiply(int** A, int** B, int** C, int n) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            for (int k = 0; k < n; k++) {
                C[i][j] += A[i][k] * B[k][j];
            }
        }
    }
}
```

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ –º–∞—Ç—Ä–∏—Ü–∞ B - —Ç–æ–π –µ column-wise, –∫–æ–µ—Ç–æ –µ –ª–æ—à–æ –∑–∞ row-major —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ.

</CollapsibleSection>

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–ü—Ä–æ–±–ª–µ–º —Å –ª–æ–∫–∞–ª–Ω–æ—Å—Ç—Ç–∞:**

–ú–∞—Ç—Ä–∏—Ü–∏—Ç–µ –≤ C++ —Å–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏ –≤ **row-major order** (–ø–æ —Ä–µ–¥–æ–≤–µ):
- `A[i][k]` - row-wise –¥–æ—Å—Ç—ä–ø ‚Üí ‚úÖ –¥–æ–±—Ä–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- `B[k][j]` - **column-wise –¥–æ—Å—Ç—ä–ø** ‚Üí ‚ùå –ª–æ—à–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç!
- `C[i][j]` - –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—è ‚Üí OK

**–ó–∞—â–æ –µ –ª–æ—à–æ:**
- `B[0][0]`, `B[1][0]`, `B[2][0]` —Å–∞ –¥–∞–ª–µ—á –µ–¥–∏–Ω –æ—Ç –¥—Ä—É–≥ –≤ –ø–∞–º–µ—Ç—Ç–∞
- –í—Å–µ–∫–∏ –¥–æ—Å—Ç—ä–ø –¥–æ B –µ –≤–µ—Ä–æ—è—Ç–Ω–æ cache miss
- –ó–∞ –º–∞—Ç—Ä–∏—Ü–∞ 1024x1024, —Ç–æ–≤–∞ –µ –æ–≥—Ä–æ–º–µ–Ω performance —É–¥–∞—Ä!

**–†–µ—à–µ–Ω–∏–µ 1: –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ B**

```cpp
void matrix_multiply_optimized(int** A, int** B, int** C, int n) {
    // –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–∞–π B
    int** B_T = new int*[n];
    for (int i = 0; i < n; i++) {
        B_T[i] = new int[n];
        for (int j = 0; j < n; j++) {
            B_T[j][i] = B[i][j];
        }
    }

    // –£–º–Ω–æ–∂–µ–Ω–∏–µ —Å —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–∞–Ω–∞ B
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            for (int k = 0; k < n; k++) {
                C[i][j] += A[i][k] * B_T[j][k];  // –°–µ–≥–∞ –∏ –¥–≤–∞—Ç–∞ —Å–∞ row-wise!
            }
        }
    }
}
```

**–†–µ—à–µ–Ω–∏–µ 2: Loop Reordering (ikj order)**

```cpp
void matrix_multiply_ikj(int** A, int** B, int** C, int n) {
    for (int i = 0; i < n; i++) {
        for (int k = 0; k < n; k++) {
            int temp = A[i][k];
            for (int j = 0; j < n; j++) {
                C[i][j] += temp * B[k][j];  // B –µ row-wise —Å–µ–≥–∞!
            }
        }
    }
}
```

**Performance –ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ:** 3-10x speedup –∑–∞ –≥–æ–ª–µ–º–∏ –º–∞—Ç—Ä–∏—Ü–∏!

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="medium-hard">

### Loop Invariant Code Motion

–ö–∞–∫–≤–æ –µ loop invariant code motion? –ü—Ä–∏ –¥–∞–¥–µ–Ω–∏—è —Å–ª–µ–¥–Ω–∏—è —Ü–∏–∫—ä–ª, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞–π—Ç–µ loop-invariant –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ—Ç–æ –∏ –ø–æ–∫–∞–∂–µ—Ç–µ –∫–∞–∫ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –±–∏ –≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–ª:

```cpp
for (int i = 0; i < n; i++) {
    arr[i] = arr[i] * (x + y + z);
}
```

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**Loop Invariant Code Motion (LICM)** –ø—Ä–µ–º–µ—Å—Ç–≤–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è, –∫–æ–∏—Ç–æ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç loop –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞, –∏–∑–≤—ä–Ω —Ü–∏–∫—ä–ª–∞.

**–û—Ä–∏–≥–∏–Ω–∞–ª–µ–Ω –∫–æ–¥:**
```cpp
for (int i = 0; i < n; i++) {
    arr[i] = arr[i] * (x + y + z);  // x+y+z —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ n –ø—ä—Ç–∏!
}
```

**Loop invariant –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ:** `x + y + z` - —Ä–µ–∑—É–ª—Ç–∞—Ç—ä—Ç –Ω–µ –∑–∞–≤–∏—Å–∏ –æ—Ç `i`

**–°–ª–µ–¥ LICM –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```cpp
int temp = x + y + z;  // –ò–∑—á–∏—Å–ª–∏ –≤–µ–¥–Ω—ä–∂ –ø—Ä–µ–¥–∏ —Ü–∏–∫—ä–ª–∞
for (int i = 0; i < n; i++) {
    arr[i] = arr[i] * temp;
}
```

**–ü–æ–ª–∑–∏:**
- –ù–∞–º–∞–ª—è–≤–∞ n-1 —Å—ä–±–∏—Ä–∞–Ω–∏—è
- –ü–æ-–º–∞–ª–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ loop body
- –ü–æ-–¥–æ–±—Ä–∞ performance (–æ—Å–æ–±–µ–Ω–æ –∑–∞ –≥–æ–ª–µ–º–∏ n)

**–í–∞–∂–Ω–æ:** –†–∞–±–æ—Ç–∏ —Å–∞–º–æ –∞–∫–æ `x`, `y`, `z` –Ω–µ —Å–µ –ø—Ä–æ–º–µ–Ω—è—Ç –≤ —Ü–∏–∫—ä–ª–∞!

</CollapsibleSection>

</ExerciseCard>

---

## –¢—Ä—É–¥–Ω–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (HARD)

–ö–æ–º–ø–ª–µ–∫—Å–µ–Ω –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

<ExerciseCard difficulty="hard">

### Performance comparison: Arrays vs Containers

–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ performance-critical —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –≥–æ–ª—è–º dataset (1 –º–∏–ª–∏–æ–Ω integers). –°—Ä–∞–≤–Ω–µ—Ç–µ —Ç—Ä–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏: –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ —á–∏—Å—Ç–∏ –º–∞—Å–∏–≤–∏, `std::vector`, –∏ `std::list`. –ò–∑–º–µ—Ä–µ—Ç–µ –∏ –æ–±—è—Å–Ω–µ—Ç–µ —Ä–∞–∑–ª–∏–∫–∏—Ç–µ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞, –∫–∞—Ç–æ –≤–∑–µ–º–µ—Ç–µ –ø—Ä–µ–¥–≤–∏–¥ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä–Ω–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –ø–∞–º–µ—Ç–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –∏ cache –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ö–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ —Å -O3, –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ std::chrono –∑–∞ timing, —Ä–∞–∑–≥–ª–µ–¥–∞–π—Ç–µ assembly –≤ Compiler Explorer.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**Performance Comparison: Arrays vs Containers**

```cpp
#include <iostream>
#include <vector>
#include <list>
#include <array>
#include <chrono>
#include <numeric>

const int SIZE = 1000000;  // 1 –º–∏–ª–∏–æ–Ω integers

// Benchmark –∑–∞ —á–∏—Å—Ç –º–∞—Å–∏–≤
void benchmark_raw_array() {
    int* arr = new int[SIZE];

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    for (int i = 0; i < SIZE; i++) {
        arr[i] = i;
    }

    auto start = std::chrono::high_resolution_clock::now();

    // Processing
    long long sum = 0;
    for (int i = 0; i < SIZE; i++) {
        sum += arr[i] * 2;
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

    std::cout << "Raw array: " << duration.count() << " Œºs (sum: " << sum << ")" << std::endl;

    delete[] arr;
}

// Benchmark –∑–∞ std::vector
void benchmark_vector() {
    std::vector<int> vec(SIZE);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    for (int i = 0; i < SIZE; i++) {
        vec[i] = i;
    }

    auto start = std::chrono::high_resolution_clock::now();

    // Processing
    long long sum = 0;
    for (int i = 0; i < SIZE; i++) {
        sum += vec[i] * 2;
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

    std::cout << "std::vector: " << duration.count() << " Œºs (sum: " << sum << ")" << std::endl;
}

// Benchmark –∑–∞ std::list
void benchmark_list() {
    std::list<int> lst;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    for (int i = 0; i < SIZE; i++) {
        lst.push_back(i);
    }

    auto start = std::chrono::high_resolution_clock::now();

    // Processing
    long long sum = 0;
    for (int val : lst) {
        sum += val * 2;
    }

    auto end = std::chrono::high_resolution_clock::now();
    auto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);

    std::cout << "std::list: " << duration.count() << " Œºs (sum: " << sum << ")" << std::endl;
}

int main() {
    std::cout << "Performance Comparison (1M integers):" << std::endl;
    std::cout << "======================================" << std::endl;

    benchmark_raw_array();
    benchmark_vector();
    benchmark_list();

    return 0;
}
```

**–ö–æ–º–ø–∏–ª–∞—Ü–∏—è –∏ –∏–∑–º–µ—Ä–≤–∞–Ω–∏—è:**

```bash
# –° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
g++ -O3 -march=native -std=c++17 perf_test.cpp -o perf_test
./perf_test
```

**–¢–∏–ø–∏—á–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏:**

```
Performance Comparison (1M integers):
======================================
Raw array: 420 Œºs (sum: 999999000000)
std::vector: 425 Œºs (sum: 999999000000)
std::list: 28500 Œºs (sum: 999999000000)
```

**–ê–Ω–∞–ª–∏–∑:**

<Tabs>
<TabItem value="raw" label="–ß–∏—Å—Ç –º–∞—Å–∏–≤" default>

**Performance:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–Ω–∞–π-–±—ä—Ä–∑)

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ –î–∏—Ä–µ–∫—Ç–µ–Ω memory access (–±–µ–∑ overhead)
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞ compiler –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å -O3)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª–µ–Ω overhead

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:**
- ‚ùå –†—ä—á–Ω–æ memory management (new/delete)
- ‚ùå –ù—è–º–∞ bounds checking
- ‚ùå Unsafe (buffer overflow —Ä–∏—Å–∫)
- ‚ùå –ù—è–º–∞ size –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

</TabItem>
<TabItem value="vector" label="std::vector">

**Performance:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ —Å –º–∞—Å–∏–≤!)

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ –°—ä—â–∞—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç –∫–∞—Ç–æ —á–∏—Å—Ç –º–∞—Å–∏–≤ (—Å -O3)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ memory management
- ‚úÖ SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ .at() –∑–∞ bounds checking (optional)
- ‚úÖ STL —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç
- ‚úÖ –ò–º–∞ .size(), .capacity()

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:**
- ‚ùå –ú–∞–ª—ä–∫ overhead (3 —É–∫–∞–∑–∞—Ç–µ–ª—è: data, size, capacity = 24 bytes)
- ‚úÖ –ù–æ overhead-—ä—Ç –µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ–Ω, –Ω–µ per-–µ–ª–µ–º–µ–Ω—Ç!

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ü–æ—á—Ç–∏ –≤–∏–Ω–∞–≥–∏ –µ –ø–æ-–¥–æ–±—ä—Ä –æ—Ç —á–∏—Å—Ç –º–∞—Å–∏–≤!

</TabItem>
<TabItem value="list" label="std::list">

**Performance:** ‚≠ê (60-70x –ø–æ-–±–∞–≤–µ–Ω!)

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ O(1) insert/delete –≤ —Å—Ä–µ–¥–∞—Ç–∞ (—Å iterator)
- ‚úÖ Stable iterators

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:**
- ‚ùå **–ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞–ª–Ω–∞ cache locality**
- ‚ùå Pointer chasing (1M —É–∫–∞–∑–∞—Ç–µ–ª—è –¥–∞ —Å–ª–µ–¥–≤–∞—à)
- ‚ùå 95%+ cache miss rate
- ‚ùå Memory overhead: 16 bytes/–µ–ª–µ–º–µ–Ω—Ç (2 —É–∫–∞–∑–∞—Ç–µ–ª—è)
- ‚ùå No random access
- ‚ùå No SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ò–∑–±—è–≥–≤–∞–π –∑–∞ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏!

</TabItem>
</Tabs>

**Assembly –∞–Ω–∞–ª–∏–∑ (Compiler Explorer):**

**Raw array / std::vector —Å -O3:**
```asm
; SIMD –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–æ–±—Ä–∞–±–æ—Ç–≤–∞ 4 integers –Ω–∞–≤–µ–¥–Ω—ä–∂)
.L3:
    movdqu  xmm0, XMMWORD PTR [rax]     ; –∑–∞—Ä–µ–¥–∏ 4 ints
    paddd   xmm0, xmm0                   ; —É–º–Ω–æ–∂–∏ –ø–æ 2 (—á—Ä–µ–∑ –¥–æ–±–∞–≤—è–Ω–µ)
    paddq   xmm1, xmm0                   ; –¥–æ–±–∞–≤–∏ –∫—ä–º sum
    add     rax, 16                      ; —Å–ª–µ–¥–≤–∞—â–∏ 4 –µ–ª–µ–º–µ–Ω—Ç–∞
    cmp     rax, rdx
    jne     .L3
```

**std::list:**
```asm
; Pointer chasing (—Å–∫–∞–ª–∞—Ä–µ–Ω –∫–æ–¥, no SIMD)
.L3:
    mov     eax, DWORD PTR [rbx]        ; –∑–∞—Ä–µ–¥–∏ val
    add     rbx, QWORD PTR [rbx+8]      ; —Å–ª–µ–¥–≤–∞–π next —É–∫–∞–∑–∞—Ç–µ–ª
    add     eax, eax                     ; —É–º–Ω–æ–∂–∏ –ø–æ 2
    add     rcx, rax                     ; –¥–æ–±–∞–≤–∏ –∫—ä–º sum
    cmp     rbx, rbp
    jne     .L3
```

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–æ–¥:**

| Use Case | –ü—Ä–µ–ø–æ—Ä—ä–∫–∞ |
|----------|-----------|
| **Performance-critical –∫–æ–¥** | `std::vector` –∏–ª–∏ raw array |
| **General purpose** | `std::vector` (best balance) |
| **Safety –≤–∞–∂–Ω–∞** | `std::vector` —Å `.at()` |
| **–ß–µ—Å—Ç–∏ insert/delete** | –í—Å–µ –ø–∞–∫ `std::vector`! (–æ—Å–≤–µ–Ω –∞–∫–æ –Ω–∞–∏—Å—Ç–∏–Ω–∞ –µ bottleneck) |
| **Stable iterators –Ω—É–∂–Ω–∏** | `std::list` (—Ä—è–¥–∫–æ) |

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="hard">

### –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (SIMD)

–û–±—è—Å–Ω–µ—Ç–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ç–∞ –∑–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (SIMD). –ù–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —Å—ä–±–∏—Ä–∞ –¥–≤–∞ –º–∞—Å–∏–≤–∞ –æ—Ç floats, –∫–æ–º–ø–∏–ª–∏—Ä–∞–π—Ç–µ —Å `-O3 -march=native`, –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ assembly output –≤ Compiler Explorer. –ú–æ–∂–µ—Ç–µ –ª–∏ –¥–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–∞—Ç–µ SIMD –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏? –ö–∞–∫–≤–∏ —É—Å–ª–æ–≤–∏—è —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–∞—Ç –∏–∑–ø—ä–ª–Ω–µ–Ω–∏ –∑–∞ –¥–∞ –º–æ–∂–µ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ —Ü–∏–∫—ä–ª?

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä (—á–∞—Å—Ç–∏—á–µ–Ω)" icon="‚úÖ">

**SIMD (Single Instruction, Multiple Data):**
- –ü—Ä–æ—Ü–µ—Å–æ—Ä–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ—è—Ç–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ –ø–∞—Ä–∞–ª–µ–ª–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω–∏ —Å –µ–¥–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- –ú–æ–¥–µ—Ä–Ω–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ –ø–æ–¥–¥—ä—Ä–∂–∞—Ç SSE, AVX, AVX2, AVX-512

**–ü—Ä–∏–º–µ—Ä:**
```cpp
void add_arrays(float* a, float* b, float* result, int n) {
    for (int i = 0; i < n; i++) {
        result[i] = a[i] + b[i];
    }
}
```

**–° -O3 -march=native, –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞:**
- **AVX –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**: `vaddps` (–¥–æ–±–∞–≤—è 8 floats –Ω–∞–≤–µ–¥–Ω—ä–∂)
- **Loading**: `vmovups` (–∑–∞—Ä–µ–∂–¥–∞ 8 floats)
- **8x –ø–∞—Ä–∞–ª–µ–ª–∏–∑—ä–º** ‚Üí 8x –ø–æ-–±—ä—Ä–∑–æ!

**–£—Å–ª–æ–≤–∏—è –∑–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
1. ‚úÖ –ü—Ä–æ—Å—Ç loop —Å –∏–∑–≤–µ—Å—Ç–µ–Ω –±—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
2. ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ (data independence)
3. ‚úÖ –ù–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç –ø–∞–º–µ—Ç–µ–Ω –¥–æ—Å—Ç—ä–ø
4. ‚úÖ –ü–æ–¥–¥—ä—Ä–∂–∞–Ω —Ç–∏–ø –¥–∞–Ω–Ω–∏ (int, float, double)
5. ‚ùå –ù—è–º–∞ pointer aliasing (–∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `__restrict`)
6. ‚ùå –ù—è–º–∞ conditionals –≤ loop body (–∏–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ predication)

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="hard">

### –ü—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ –∑–∞ –∏–≥—Ä–∞

–ü—Ä–æ–µ–∫—Ç–∏—Ä–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ –∑–∞ –∏–≥—Ä–∞, –∫–æ—è—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞:
- –°—ä—Ö—Ä–∞–Ω—è–≤–∞ 100,000 game entities
- –ß–µ—Å—Ç–æ –∏—Ç–µ—Ä–∏—Ä–∞ –ø—Ä–µ–∑ –≤—Å–∏—á–∫–∏ entities –∑–∞ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏—Ç–µ –∏–º
- –ü–æ–Ω—è–∫–æ–≥–∞ –≤–º—ä–∫–≤–∞/–ø—Ä–µ–º–∞—Ö–≤–∞ entities –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∏ –ø–æ–∑–∏—Ü–∏–∏

–û–±–æ—Å–Ω–æ–≤–µ—Ç–µ –∏–∑–±–æ—Ä–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–∞–∑–∏—Ä–∞–π–∫–∏ —Å–µ –Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç, memory overhead, –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ. –û–±—Å—ä–¥–µ—Ç–µ trade-offs.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ –∫–æ–º–±–∏–Ω–∏—Ä–∞–Ω –ø–æ–¥—Ö–æ–¥ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∫–∞—Ç–æ entity-component systems.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**–î–∏–∑–∞–π–Ω –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ –∑–∞ –∏–≥—Ä–∞**

**–ò–∑–∏—Å–∫–≤–∞–Ω–∏—è –∞–Ω–∞–ª–∏–∑:**
1. 100,000 entities (–≥–æ–ª—è–º –±—Ä–æ–π)
2. **–ß–µ—Å—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è:** –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞ update –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏
3. **–†—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏—è:** insert/delete –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª–Ω–∏ –ø–æ–∑–∏—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ: std::vector —Å "Tombstone" pattern (–∏–ª–∏ Entity-Component System)**

<Tabs>
<TabItem value="solution1" label="–í–∞—Ä–∏–∞–Ω—Ç 1: std::vector —Å swap-and-pop" default>

```cpp
struct Entity {
    int id;
    float x, y, z;      // –ü–æ–∑–∏—Ü–∏—è
    bool active;        // –ó–∞ "soft delete"

    void update(float deltaTime) {
        x += deltaTime;
        y += deltaTime * 0.5f;
    }
};

class EntityManager {
private:
    std::vector<Entity> entities;

public:
    // –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ entity (O(1) amortized)
    void add_entity(int id, float x, float y, float z) {
        entities.push_back({id, x, y, z, true});
    }

    // Update –Ω–∞ –≤—Å–∏—á–∫–∏ entities (–æ—Ç–ª–∏—á–Ω–∞ cache locality!)
    void update_all(float deltaTime) {
        for (Entity& e : entities) {
            if (e.active) {
                e.update(deltaTime);
            }
        }
    }

    // Delete —Å swap-and-pop (O(1), –Ω–æ –ø—Ä–æ–º–µ–Ω—è —Ä–µ–¥–∞)
    void remove_entity_fast(int id) {
        for (size_t i = 0; i < entities.size(); i++) {
            if (entities[i].id == id) {
                // Swap —Å—ä—Å –ø–æ—Å–ª–µ–¥–Ω–∏—è –µ–ª–µ–º–µ–Ω—Ç
                std::swap(entities[i], entities.back());
                entities.pop_back();
                return;
            }
        }
    }

    // Delete —Å—ä—Å –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–¥–∞ (O(n), —Ä—è–¥–∫–æ)
    void remove_entity_ordered(int id) {
        entities.erase(
            std::remove_if(entities.begin(), entities.end(),
                [id](const Entity& e) { return e.id == id; }),
            entities.end()
        );
    }

    // Soft delete (O(1), –Ω–µ –ø—Ä–µ–º–∞—Ö–≤–∞ –≤–µ–¥–Ω–∞–≥–∞)
    void deactivate_entity(int id) {
        for (Entity& e : entities) {
            if (e.id == id) {
                e.active = false;
                return;
            }
        }
    }

    // Periodic cleanup (–∏–∑–≤–∏–∫–≤–∞ —Å–µ —Ä—è–¥–∫–æ)
    void cleanup_inactive() {
        entities.erase(
            std::remove_if(entities.begin(), entities.end(),
                [](const Entity& e) { return !e.active; }),
            entities.end()
        );
    }
};
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è**: –ù–µ–ø—Ä–µ–∫—ä—Å–Ω–∞—Ç–∞ –ø–∞–º–µ—Ç ‚Üí cache-friendly
- ‚úÖ **SIMD –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª**: –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ update loop
- ‚úÖ **–ë—ä—Ä–∑ insert**: push_back –µ O(1) amortized
- ‚úÖ **–ì—ä–≤–∫–∞–≤–æ—Å—Ç**: swap-and-pop –∑–∞ –±—ä—Ä–∑–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ, –∏–ª–∏ ordered delete –∞–∫–æ —Ç—Ä—è–±–≤–∞

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:**
- ‚ö†Ô∏è Delete –º–æ–∂–µ –¥–∞ –ø—Ä–æ–º–µ–Ω—è —Ä–µ–¥–∞ (swap-and-pop)
- ‚ö†Ô∏è Soft delete –∏–∑–∏—Å–∫–≤–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `active` (–º–∞–ª—ä–∫ overhead)

</TabItem>
<TabItem value="solution2" label="–í–∞—Ä–∏–∞–Ω—Ç 2: Entity-Component System (ECS)">

```cpp
// Data-Oriented Design: —Ä–∞–∑–¥–µ–ª—è–º–µ –¥–∞–Ω–Ω–∏—Ç–µ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
class ECS_Manager {
private:
    std::vector<int> entity_ids;
    std::vector<float> positions_x;  // SoA (Structure of Arrays)
    std::vector<float> positions_y;
    std::vector<float> positions_z;
    std::vector<bool> active;

public:
    void add_entity(int id, float x, float y, float z) {
        entity_ids.push_back(id);
        positions_x.push_back(x);
        positions_y.push_back(y);
        positions_z.push_back(z);
        active.push_back(true);
    }

    // –°—É–ø–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω update - –æ—Ç–ª–∏—á–µ–Ω –∑–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è!
    void update_positions(float deltaTime) {
        // –ö–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç –º–æ–∂–µ –¥–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∏—Ä–∞ —Ç–æ–∑–∏ loop –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ
        for (size_t i = 0; i < positions_x.size(); i++) {
            if (active[i]) {
                positions_x[i] += deltaTime;
                positions_y[i] += deltaTime * 0.5f;
            }
        }
    }

    void remove_entity(int id) {
        auto it = std::find(entity_ids.begin(), entity_ids.end(), id);
        if (it != entity_ids.end()) {
            size_t index = std::distance(entity_ids.begin(), it);

            // Swap-and-pop –∑–∞ –≤—Å–∏—á–∫–∏ arrays
            entity_ids[index] = entity_ids.back();
            positions_x[index] = positions_x.back();
            positions_y[index] = positions_y.back();
            positions_z[index] = positions_z.back();
            active[index] = active.back();

            entity_ids.pop_back();
            positions_x.pop_back();
            positions_y.pop_back();
            positions_z.pop_back();
            active.pop_back();
        }
    }
};
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ **–ü–µ—Ä—Ñ–µ–∫—Ç–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: SoA layout –µ –∏–¥–µ–∞–ª–µ–Ω –∑–∞ SIMD
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª–µ–Ω memory overhead**: –ù—è–º–∞ padding –º–µ–∂–¥—É –ø–æ–ª–µ—Ç–∞—Ç–∞
- ‚úÖ **Cache-oblivious**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª–Ω–∞ cache —É–ø–æ—Ç—Ä–µ–±–∞

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—Ü–∏:**
- ‚ùå –ü–æ-—Å–ª–æ–∂–µ–Ω –∫–æ–¥ (multiple arrays)
- ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞ –º–µ–∂–¥—É arrays —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø–æ–¥–¥—ä—Ä–∂–∞

</TabItem>
<TabItem value="wrong" label="‚ùå –õ–æ—à –¥–∏–∑–∞–π–Ω (std::list)">

```cpp
// –ù–ï –ø—Ä–∞–≤–µ—Ç–µ —Ç–æ–≤–∞!
class BadEntityManager {
private:
    std::list<Entity> entities;  // ‚ùå –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ –∑–∞ performance!

public:
    void update_all(float deltaTime) {
        for (Entity& e : entities) {
            e.update(deltaTime);  // Cache miss –Ω–∞ –≤—Å–µ–∫–∏ –µ–ª–µ–º–µ–Ω—Ç!
        }
    }
};
```

**–ó–∞—â–æ –µ –ª–æ—à–æ:**
- ‚ùå 100,000 cache misses –ø—Ä–∏ update
- ‚ùå Pointer chasing –∑–∞ 100,000 nodes
- ‚ùå Memory overhead: 16 bytes/entity —Å–∞–º–æ –∑–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏
- ‚ùå –ù–µ–≤—ä–∑–º–æ–∂–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚ùå **50-100x –ø–æ-–±–∞–≤–Ω–æ –æ—Ç vector!**

</TabItem>
</Tabs>

**Trade-offs —Ç–∞–±–ª–∏—Ü–∞:**

| –ö—Ä–∏—Ç–µ—Ä–∏–π | std::vector | std::vector + SoA (ECS) | std::list |
|----------|-------------|-------------------------|-----------|
| **Iteration speed** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê |
| **Cache locality** | –û—Ç–ª–∏—á–Ω–∞ | –ü–µ—Ä—Ñ–µ–∫—Ç–Ω–∞ | –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞–ª–Ω–∞ |
| **SIMD potential** | –î–æ–±—ä—Ä | –ü–µ—Ä—Ñ–µ–∫—Ç–µ–Ω | –ù—è–º–∞ |
| **Insert speed** | O(1) amortized | O(1) amortized | O(1) |
| **Delete speed** | O(n) –∏–ª–∏ O(1)* | O(n) –∏–ª–∏ O(1)* | O(1)** |
| **Memory overhead** | –ú–∏–Ω–∏–º–∞–ª–µ–Ω | –ú–∏–Ω–∏–º–∞–ª–µ–Ω | 16 bytes/entity |
| **Code complexity** | –ü—Ä–æ—Å—Ç | –°—Ä–µ–¥–Ω–∞ | –ü—Ä–æ—Å—Ç |

*O(1) —Å—ä—Å swap-and-pop, O(n) —Å—ä—Å –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–¥
**–°–∞–º–æ –∞–∫–æ –∏–º–∞—à iterator

**–ü—Ä–µ–ø–æ—Ä—ä–∫–∞:**

–ò–∑–ø–æ–ª–∑–≤–∞–π **std::vector —Å swap-and-pop** –∫–∞—Ç–æ –Ω–∞—á–∞–ª–µ–Ω –¥–∏–∑–∞–π–Ω. –ê–∫–æ update loop-—ä—Ç —Å—Ç–∞–Ω–µ bottleneck, –º–∏–≥—Ä–∏—Ä–∞–π –∫—ä–º **SoA/ECS**.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ—Ä–≤–∞–Ω–∏—è (100,000 entities update):**
- std::vector: ~0.5ms ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- ECS (SoA): ~0.3ms ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- std::list: ~30ms ‚ùå‚ùå‚ùå

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="hard">

### Cache performance –∞–Ω–∞–ª–∏–∑

–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥ –∑–∞ cache –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç. –ò–∑—á–∏—Å–ª–µ—Ç–µ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–æ) –∫–æ–ª–∫–æ cache lines –±–∏—Ö–∞ –±–∏–ª–∏ –¥–æ—Å—Ç—ä–ø–µ–Ω–∏ –∞–∫–æ cache line size –µ 64 bytes –∏ `int` –µ 4 bytes:

```cpp
// Matrix –µ 1024x1024, —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ row-major order
void process_matrix_columns(int matrix[1024][1024]) {
    for (int col = 0; col < 1024; col++) {
        for (int row = 0; row < 1024; row++) {
            matrix[row][col] *= 2;
        }
    }
}
```

–ö–∞–∫ –±–∏—Ö—Ç–µ –ø—Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–ª–∏ –∫–æ–¥–∞ –∑–∞ –ø–æ–¥–æ–±—Ä—è–≤–∞–Ω–µ –Ω–∞ cache –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞?

<CollapsibleSection title="–û—Ç–≥–æ–≤–æ—Ä" icon="‚úÖ">

**–ê–Ω–∞–ª–∏–∑ –Ω–∞ cache performance:**

**Row-major order –æ–∑–Ω–∞—á–∞–≤–∞:**
- –ï–ª–µ–º–µ–Ω—Ç–∏—Ç–µ –Ω–∞ –µ–¥–∏–Ω —Ä–µ–¥ —Å–∞ —Å—ä—Å–µ–¥–Ω–∏ –≤ –ø–∞–º–µ—Ç—Ç–∞
- `matrix[0][0]`, `matrix[0][1]`, `matrix[0][2]`... —Å–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–∏

**–ü—Ä–æ–±–ª–µ–º—ä—Ç —Å —Ç–æ–∑–∏ –∫–æ–¥:**
- –î–æ—Å—Ç—ä–ø–≤–∞ column-wise: `matrix[0][0]`, `matrix[1][0]`, `matrix[2][0]`...
- –í—Å–µ–∫–∏ –µ–ª–µ–º–µ–Ω—Ç –µ –Ω–∞ **4096 bytes** —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ (1024 * 4)
- Cache line –µ —Å–∞–º–æ 64 bytes (16 integers)

**Cache line –∏–∑—á–∏—Å–ª–µ–Ω–∏—è:**
- Cache line —Å—ä–¥—ä—Ä–∂–∞ 16 integers
- –í—Å–µ–∫–∏ –¥–æ—Å—Ç—ä–ø –∑–∞—Ä–µ–∂–¥–∞ 16 –µ–ª–µ–º–µ–Ω—Ç–∞ –æ—Ç –°–™–©–ò–Ø —Ä–µ–¥
- –ù–æ –Ω–∏–µ –∏—Å–∫–∞–º–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ —Ä–µ–¥–æ–≤–µ!
- **Cache misses: –ø–æ—á—Ç–∏ 100%** (1024 * 1024 = 1,048,576 misses)

**–û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–æ —Ä–µ—à–µ–Ω–∏–µ - row-wise –¥–æ—Å—Ç—ä–ø:**

```cpp
void process_matrix_rows(int matrix[1024][1024]) {
    for (int row = 0; row < 1024; row++) {      // –û–±—Ä—ä—â–∞–º–µ —Ü–∏–∫–ª–∏—Ç–µ!
        for (int col = 0; col < 1024; col++) {
            matrix[row][col] *= 2;
        }
    }
}
```

**Cache line –∏–∑—á–∏—Å–ª–µ–Ω–∏—è (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω):**
- –ï–¥–∏–Ω cache miss –Ω–∞ 16 integers
- **Cache misses: ~65,536** (1024 * 1024 / 16)
- **16x –ø–æ-–º–∞–ª–∫–æ cache misses!**

**Performance –ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ: 10-50x speedup!**

</CollapsibleSection>

</ExerciseCard>

<ExerciseCard difficulty="hard">

### Cache-oblivious matrix transpose

–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ cache-oblivious matrix transpose –∞–ª–≥–æ—Ä–∏—Ç—ä–º. –°—Ä–∞–≤–Ω–µ—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–∏—Ç–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å naive –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–±—è—Å–Ω—è–≤–∞–π–∫–∏ –∫–∞–∫ cache blocking –ø–æ–¥–æ–±—Ä—è–≤–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç—Ç–∞. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ Compiler Explorer –∑–∞ –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞—Ç–µ –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –Ω–∏–≤–∞ –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–ª–∏—è—è—Ç –Ω–∞ –¥–≤–µ—Ç–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏.

<CollapsibleSection title="–ü–æ–¥—Å–∫–∞–∑–∫–∞" icon="üí°">

–†–∞–∑–≥–ª–µ–¥–∞–π—Ç–µ recursive divide-and-conquer –ø–æ–¥—Ö–æ–¥ –∏ blocked matrix operations.

</CollapsibleSection>

<CollapsibleSection title="–†–µ—à–µ–Ω–∏–µ" icon="‚úÖ">

**Cache-Oblivious Matrix Transpose**

**–ü—Ä–æ–±–ª–µ–º:** Naive matrix transpose –∏–º–∞ –ª–æ—à–∞ cache locality –ø—Ä–∏ –µ–¥–Ω–∞—Ç–∞ –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏—Ç–µ (–∏–ª–∏ read –∏–ª–∏ write –µ column-wise).

<Tabs>
<TabItem value="naive" label="Naive –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è" default>

```cpp
void transpose_naive(int** src, int** dst, int n) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            dst[j][i] = src[i][j];
            // src[i][j] - row-wise access ‚úÖ –¥–æ–±—Ä–∞ locality
            // dst[j][i] - column-wise access ‚ùå –ª–æ—à–∞ locality
        }
    }
}
```

**–ü—Ä–æ–±–ª–µ–º:**
- `src` —Å–µ —á–µ—Ç–µ row-wise ‚Üí –¥–æ–±—Ä–∞ locality
- `dst` —Å–µ –ø–∏—à–µ column-wise ‚Üí –ª–æ—à–∞ locality
- –ó–∞ –º–∞—Ç—Ä–∏—Ü–∞ 1024x1024: ~50% cache miss rate
- **Performance:** ~10ms –∑–∞ 1024x1024 –º–∞—Ç—Ä–∏—Ü–∞

</TabItem>
<TabItem value="blocked" label="Cache-Aware Blocking">

```cpp
void transpose_blocked(int** src, int** dst, int n) {
    const int BLOCK_SIZE = 32;  // –ò–∑–±—Ä–∞–Ω–æ –∑–∞ L1 cache (32x32x4 = 4KB)

    for (int i = 0; i < n; i += BLOCK_SIZE) {
        for (int j = 0; j < n; j += BLOCK_SIZE) {
            // –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–∞–π –µ–¥–∏–Ω block
            int max_i = std::min(i + BLOCK_SIZE, n);
            int max_j = std::min(j + BLOCK_SIZE, n);

            for (int bi = i; bi < max_i; bi++) {
                for (int bj = j; bj < max_j; bj++) {
                    dst[bj][bi] = src[bi][bj];
                }
            }
        }
    }
}
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- –†–∞–±–æ—Ç–∏ –Ω–∞ blocks, –∫–æ–∏—Ç–æ —Å–µ –ø–æ–±–∏—Ä–∞—Ç –≤ L1 cache
- –ü–æ-–¥–æ–±—Ä–∞ locality –∑–∞ –∏ –¥–≤–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **Performance:** ~3ms –∑–∞ 1024x1024 (3x –ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ!)

**–ù–µ–¥–æ—Å—Ç–∞—Ç—ä–∫:**
- –¢—Ä—è–±–≤–∞ —Ä—ä—á–Ω–æ –¥–∞ –Ω–∞—Å—Ç—Ä–æ–π–≤–∞—à BLOCK_SIZE –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—è hardware

</TabItem>
<TabItem value="oblivious" label="Cache-Oblivious Recursive">

```cpp
void transpose_recursive(int** src, int** dst,
                        int row_start, int col_start, int size) {
    // Base case: –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –º–∞–ª—ä–∫ block
    if (size <= 32) {
        for (int i = 0; i < size; i++) {
            for (int j = 0; j < size; j++) {
                dst[col_start + j][row_start + i] =
                    src[row_start + i][col_start + j];
            }
        }
        return;
    }

    // Divide-and-conquer: —Ä–∞–∑–¥–µ–ª—è–º–µ –º–∞—Ç—Ä–∏—Ü–∞—Ç–∞ –Ω–∞ 4 –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞
    int half = size / 2;

    // Top-left –∫–≤–∞–¥—Ä–∞–Ω—Ç
    transpose_recursive(src, dst, row_start, col_start, half);

    // Top-right –∫–≤–∞–¥—Ä–∞–Ω—Ç
    transpose_recursive(src, dst, row_start, col_start + half, half);

    // Bottom-left –∫–≤–∞–¥—Ä–∞–Ω—Ç
    transpose_recursive(src, dst, row_start + half, col_start, half);

    // Bottom-right –∫–≤–∞–¥—Ä–∞–Ω—Ç
    transpose_recursive(src, dst, row_start + half, col_start + half, half);
}

// Wrapper —Ñ—É–Ω–∫—Ü–∏—è
void transpose_cache_oblivious(int** src, int** dst, int n) {
    transpose_recursive(src, dst, 0, 0, n);
}
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ **Cache-oblivious**: –†–∞–±–æ—Ç–∏ –æ–ø—Ç–∏–º–∞–ª–Ω–æ –Ω–∞ –í–°–Ø–ö–ê cache –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ –∞–¥–∞–ø—Ç–∏—Ä–∞ –∫—ä–º L1, L2, L3 cache sizes
- ‚úÖ –ù—è–º–∞ –Ω—É–∂–¥–∞ –æ—Ç hardware-specific –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- ‚úÖ Recursive subdivision ‚Üí –æ–ø—Ç–∏–º–∞–ª–Ω–∞ locality –Ω–∞ –≤—Å—è–∫–æ –Ω–∏–≤–æ

**Performance:** ~2.5ms –∑–∞ 1024x1024 (4x –ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ!)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
1. –†–∞–∑–¥–µ–ª—è –º–∞—Ç—Ä–∏—Ü–∞—Ç–∞ –Ω–∞ 4 –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞
2. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–∞ –≤—Å–µ–∫–∏ –∫–≤–∞–¥—Ä–∞–Ω—Ç
3. –ö–æ–≥–∞—Ç–æ block —Å—Ç–∞–Ω–µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –º–∞–ª—ä–∫ (‚â§32), –ø—Ä–∞–≤–∏ direct transpose
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ –≤–º–µ—Å—Ç–≤–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ cache levels –ø–æ –≤—Ä–µ–º–µ –Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è—Ç–∞

</TabItem>
</Tabs>

**–ü—ä–ª–µ–Ω benchmark –∫–æ–¥:**

```cpp
#include <iostream>
#include <chrono>
#include <algorithm>

const int N = 1024;

// Helper: –∞–ª–æ–∫–∏—Ä–∞–π 2D –º–∞—Å–∏–≤
int** allocate_matrix(int n) {
    int** mat = new int*[n];
    for (int i = 0; i < n; i++) {
        mat[i] = new int[n];
    }
    return mat;
}

// Helper: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π –º–∞—Ç—Ä–∏—Ü–∞
void initialize_matrix(int** mat, int n) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            mat[i][j] = i * n + j;
        }
    }
}

// ... (paste transpose functions from above)

int main() {
    int** src = allocate_matrix(N);
    int** dst_naive = allocate_matrix(N);
    int** dst_blocked = allocate_matrix(N);
    int** dst_oblivious = allocate_matrix(N);

    initialize_matrix(src, N);

    // Benchmark Naive
    auto start = std::chrono::high_resolution_clock::now();
    transpose_naive(src, dst_naive, N);
    auto end = std::chrono::high_resolution_clock::now();
    std::cout << "Naive: "
              << std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count()
              << " ms" << std::endl;

    // Benchmark Blocked
    start = std::chrono::high_resolution_clock::now();
    transpose_blocked(src, dst_blocked, N);
    end = std::chrono::high_resolution_clock::now();
    std::cout << "Blocked: "
              << std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count()
              << " ms" << std::endl;

    // Benchmark Cache-Oblivious
    start = std::chrono::high_resolution_clock::now();
    transpose_cache_oblivious(src, dst_oblivious, N);
    end = std::chrono::high_resolution_clock::now();
    std::cout << "Cache-Oblivious: "
              << std::chrono::duration_cast<std::chrono::milliseconds>(end - start).count()
              << " ms" << std::endl;

    return 0;
}
```

**–û—á–∞–∫–≤–∞–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ (1024x1024 –º–∞—Ç—Ä–∏—Ü–∞):**

```
Naive: 12 ms
Blocked: 4 ms
Cache-Oblivious: 3 ms
```

**Cache –∞–Ω–∞–ª–∏–∑:**

| –ú–µ—Ç–æ–¥ | Cache Misses | Speedup |
|-------|--------------|---------|
| Naive | ~1M misses | Baseline |
| Blocked (32x32) | ~300K misses | 3x |
| Cache-Oblivious | ~250K misses | 4x |

**Compiler Explorer –∞–Ω–∞–ª–∏–∑:**

–¢–µ—Å—Ç–≤–∞–π—Ç–µ –Ω–∞ [godbolt.org](https://godbolt.org) —Å `-O3 -march=native`:
- Naive: –ì–µ–Ω–µ—Ä–∏—Ä–∞ –ø—Ä–æ—Å—Ç nested loop
- Blocked: Loop tiling —Å –∏–∑–≤–µ—Å—Ç–µ–Ω block size
- Recursive: Tail-call –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è + loop fusion

**–ö–ª—é—á–æ–≤ –∏–∑–≤–æ–¥:**

Cache-oblivious –∞–ª–≥–æ—Ä–∏—Ç–º–∏—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç **divide-and-conquer** –∑–∞ –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–∞—Ç –æ–ø—Ç–∏–º–∞–ª–Ω–∞ locality –Ω–∞ –≤—Å—è–∫–æ cache –Ω–∏–≤–æ **–±–µ–∑** –¥–∞ –∑–Ω–∞—è—Ç cache sizes!

</CollapsibleSection>

</ExerciseCard>

---

## –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏

<InfoBox title="–ü–æ–ª–µ–∑–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏ –∑–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞">

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**
- [Compiler Explorer (godbolt.org)](https://godbolt.org) - –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ assembly –∫–æ–¥
- [Quick Bench](https://quick-bench.com) - Micro-benchmarking online
- [C++ Insights](https://cppinsights.io) - –í–∏–∂—Ç–µ –∫–∞–∫ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–∞ –∫–æ–¥–∞

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å—ä–≤–µ—Ç–∏:**
- –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω–∏ optimization levels: `-O0`, `-O1`, `-O2`, `-O3`
- –°—Ä–∞–≤–Ω—è–≤–∞–π—Ç–µ assembly output –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ò–∑–º–µ—Ä–≤–∞–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ —Å —Ä–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–∞–π—Ç–µ –∫–æ–¥–∞ —Å tools –∫–∞—Ç–æ `perf`, `valgrind --tool=cachegrind`

</InfoBox>

<SuccessBox title="–ö–ª—é—á–æ–≤–∏ —Ç–æ—á–∫–∏ –∑–∞ –∑–∞–ø–æ–º–Ω—è–Ω–µ">

- **–õ–æ–∫–∞–ª–Ω–æ—Å—Ç—Ç–∞ –µ –∫—Ä–∏—Ç–∏—á–Ω–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–π—Ç–µ –∑–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–∞ –∏ –≤—Ä–µ–º–µ–Ω–Ω–∞ –ª–æ–∫–∞–ª–Ω–æ—Å—Ç
- **Compiler Explorer –µ –≤–∞—à–∏—è—Ç –Ω–∞–π-–¥–æ–±—ä—Ä –ø—Ä–∏—è—Ç–µ–ª**: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≥–æ —á–µ—Å—Ç–æ!
- **–ò–∑–º–µ—Ä–≤–∞–π—Ç–µ, –Ω–µ –≥–∞–¥–∞–π—Ç–µ**: –í–∏–Ω–∞–≥–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–∞–π—Ç–µ –ø—Ä–µ–¥–∏ –∏ —Å–ª–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ std::vector**: –ó–∞ –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏ –µ –Ω–∞–π-–¥–æ–±—Ä–∏—è—Ç –∏–∑–±–æ—Ä
- **–†–∞–∑–±–∏—Ä–∞–Ω–µ—Ç–æ –µ —Å–∏–ª–∞**: –ó–Ω–∞–µ–π–∫–∏ –∫–∞–∫ –∫–æ–º–ø–∏–ª–∞—Ç–æ—Ä—ä—Ç —Ä–∞–±–æ—Ç–∏, –ø–∏—à–µ—Ç–µ –ø–æ-–¥–æ–±—ä—Ä –∫–æ–¥

</SuccessBox>
